{
  "version": 3,
  "sources": ["../../src/js/media-seek-forward-button.js"],
  "sourcesContent": ["import MediaChromeButton from './media-chrome-button.js';\nimport { defineCustomElement } from './utils/defineCustomElement.js';\nimport {\n  Window as window,\n  Document as document,\n} from './utils/server-safe-globals.js';\nimport { MediaUIEvents, MediaUIAttributes } from './constants.js';\nimport { verbs } from './labels/labels.js';\nimport { getSlotted, updateIconText } from './utils/element-utils.js';\n\nconst DEFAULT_SEEK_OFFSET = 30;\n\n// const forwardIcon = `<svg xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" viewBox=\"0 0 15 18\"><defs><style>.text{font-size:8px;font-family:Arial-BoldMT, Arial;font-weight:700;}</style></defs><text class=\"text value\" transform=\"translate(5.9 17.6)\">${DEFAULT_SEEK_OFFSET}</text><path d=\"M7,3V0l5.61,4L7,7.94V5A5.54,5.54,0,0,0,5.1,15.48V17.6A7.5,7.5,0,0,1,7,3Z\"/></svg>`;\nconst forwardIcon = `<svg xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\" viewBox=\"-3 -3 24 24\"><defs><style>.text{font-size:8px;font-family:Arial-BoldMT, Arial;font-weight:700;}</style></defs><text class=\"text value\" transform=\"translate(7.4 17.6)\">${DEFAULT_SEEK_OFFSET}</text><path d=\"M8.52,3V0l5.61,4-5.61,4V5A5.54,5.54,0,0,0,6.6,15.48V17.6A7.5,7.5,0,0,1,8.52,3Z\"/></svg>`;\n\nconst slotTemplate = document.createElement('template');\nslotTemplate.innerHTML = `  \n  <slot name=\"forward\">${forwardIcon}</slot>\n`;\n\nconst DEFAULT_TIME = 0;\n\nconst updateAriaLabel = (el) => {\n  // NOTE: seek direction is described via text, so always use positive numeric representation\n  const seekOffset = Math.abs(+el.getAttribute('seek-offset'));\n  const label = verbs.SEEK_FORWARD_N_SECS({ seekOffset });\n  el.setAttribute('aria-label', label);\n};\n\nconst updateSeekIconValue = (el) => {\n  const svg = getSlotted(el, 'forward');\n  const value = el.getAttribute('seek-offset');\n  updateIconText(svg, value);\n};\n\nclass MediaSeekForwardButton extends MediaChromeButton {\n  static get observedAttributes() {\n    return [\n      ...super.observedAttributes,\n      MediaUIAttributes.MEDIA_CURRENT_TIME,\n      'seek-offset',\n    ];\n  }\n\n  constructor(options = {}) {\n    super({ slotTemplate, ...options });\n  }\n\n  connectedCallback() {\n    // NOTE: currently don't support changing the seek value, so only need to set this once on initialization.\n    if (!this.hasAttribute('seek-offset')) {\n      this.setAttribute('seek-offset', DEFAULT_SEEK_OFFSET);\n    }\n    updateAriaLabel(this);\n    updateSeekIconValue(this);\n    super.connectedCallback();\n  }\n\n  attributeChangedCallback(attrName, _oldValue, newValue) {\n    if (attrName === 'seek-offset') {\n      if (newValue == undefined) {\n        this.setAttribute('seek-offset', DEFAULT_SEEK_OFFSET);\n      }\n      updateSeekIconValue(this);\n      updateAriaLabel(this);\n    }\n  }\n\n  handleClick() {\n    const currentTimeStr = this.getAttribute(\n      MediaUIAttributes.MEDIA_CURRENT_TIME\n    );\n    const seekOffset = +this.getAttribute('seek-offset');\n    const currentTime =\n      currentTimeStr && !Number.isNaN(+currentTimeStr)\n        ? +currentTimeStr\n        : DEFAULT_TIME;\n    const detail = currentTime + seekOffset;\n    const evt = new window.CustomEvent(MediaUIEvents.MEDIA_SEEK_REQUEST, {\n      composed: true,\n      bubbles: true,\n      detail,\n    });\n    this.dispatchEvent(evt);\n  }\n}\n\ndefineCustomElement('media-seek-forward-button', MediaSeekForwardButton);\n\nexport default MediaSeekForwardButton;\n"],
  "mappings": "qrBAAA,oCAA8B,yCAC9B,EAAoC,0CACpC,EAGO,0CACP,EAAiD,0BACjD,EAAsB,8BACtB,EAA2C,oCAE3C,KAAM,GAAsB,GAGtB,EAAc,8OAA8O,2GAE5P,EAAe,WAAS,cAAc,YAC5C,EAAa,UAAY;AAAA,yBACA;AAAA,EAGzB,KAAM,GAAe,EAEf,EAAkB,AAAC,GAAO,CAE9B,KAAM,GAAa,KAAK,IAAI,CAAC,EAAG,aAAa,gBACvC,EAAQ,QAAM,oBAAoB,CAAE,eAC1C,EAAG,aAAa,aAAc,IAG1B,EAAsB,AAAC,GAAO,CAClC,KAAM,GAAM,iBAAW,EAAI,WACrB,EAAQ,EAAG,aAAa,eAC9B,qBAAe,EAAK,IAGtB,eAAqC,UAAkB,WAC1C,qBAAqB,CAC9B,MAAO,CACL,GAAG,MAAM,mBACT,oBAAkB,mBAClB,eAIJ,YAAY,EAAU,GAAI,CACxB,MAAM,CAAE,kBAAiB,IAG3B,mBAAoB,CAElB,AAAK,KAAK,aAAa,gBACrB,KAAK,aAAa,cAAe,GAEnC,EAAgB,MAChB,EAAoB,MACpB,MAAM,oBAGR,yBAAyB,EAAU,EAAW,EAAU,CACtD,AAAI,IAAa,eACX,IAAY,MACd,KAAK,aAAa,cAAe,GAEnC,EAAoB,MACpB,EAAgB,OAIpB,aAAc,CACZ,KAAM,GAAiB,KAAK,aAC1B,oBAAkB,oBAEd,EAAa,CAAC,KAAK,aAAa,eAKhC,EAAS,AAHb,IAAkB,CAAC,OAAO,MAAM,CAAC,GAC7B,CAAC,EACD,GACuB,EACvB,EAAM,GAAI,UAAO,YAAY,gBAAc,mBAAoB,CACnE,SAAU,GACV,QAAS,GACT,WAEF,KAAK,cAAc,IAIvB,0BAAoB,4BAA6B,GAEjD,GAAO,GAAQ",
  "names": []
}
