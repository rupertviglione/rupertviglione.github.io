var I=Object.create;var A=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var D=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty;var b=t=>A(t,"__esModule",{value:!0});var g=(t,e)=>{for(var i in e)A(t,i,{get:e[i],enumerable:!0})},m=(t,e,i,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of h(e))!_.call(t,r)&&(i||r!=="default")&&A(t,r,{get:()=>e[r],enumerable:!(s=M(e,r))||s.enumerable});return t},R=(t,e)=>m(b(A(t!=null?I(D(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),f=(t=>(e,i)=>t&&t.get(e)||(i=m(b({}),e,1),t&&t.set(e,i),i))(typeof WeakMap!="undefined"?new WeakMap:0);var x={};g(x,{default:()=>w});var T=R(require("./media-text-display.js"),1),E=require("./utils/defineCustomElement.js"),a=require("./utils/time.js"),n=require("./constants.js"),d=require("./labels/labels.js");const p="&nbsp;/&nbsp;",C=(t,{timesSep:e=p}={})=>{const i=t.getAttribute("remaining")!=null,s=t.getAttribute("show-duration")!=null,r=+t.getAttribute(n.MediaUIAttributes.MEDIA_CURRENT_TIME),o=+t.getAttribute(n.MediaUIAttributes.MEDIA_DURATION),u=i?(0,a.formatTime)(0-(o-r)):(0,a.formatTime)(r);return s?`${u}${e}${(0,a.formatTime)(o)}`:u},U="video not loaded, unknown time.",N=t=>{if(!(t.hasAttribute(n.MediaUIAttributes.MEDIA_CURRENT_TIME)&&t.hasAttribute(n.MediaUIAttributes.MEDIA_DURATION))){t.setAttribute("aria-valuetext",U);return}const e=t.getAttribute("remaining")!=null,i=t.getAttribute("show-duration")!=null,s=+t.getAttribute(n.MediaUIAttributes.MEDIA_CURRENT_TIME),r=+t.getAttribute(n.MediaUIAttributes.MEDIA_DURATION),o=e?(0,a.formatAsTimePhrase)(0-(r-s)):(0,a.formatAsTimePhrase)(s);if(!i){t.setAttribute("aria-valuetext",o);return}const u=(0,a.formatAsTimePhrase)(r),l=`${o} of ${u}`;t.setAttribute("aria-valuetext",l)};class c extends T.default{static get observedAttributes(){return[...super.observedAttributes,n.MediaUIAttributes.MEDIA_CURRENT_TIME,n.MediaUIAttributes.MEDIA_DURATION,"remaining","show-duration"]}connectedCallback(){this.setAttribute("role","progressbar"),this.setAttribute("aria-label",d.nouns.PLAYBACK_TIME()),this.setAttribute("tabindex",0),super.connectedCallback()}attributeChangedCallback(e,i,s){if([n.MediaUIAttributes.MEDIA_CURRENT_TIME,n.MediaUIAttributes.MEDIA_DURATION,"remaining","show-duration"].includes(e)){const r=C(this);N(this),this.container.innerHTML=r}super.attributeChangedCallback(e,i,s)}}(0,E.defineCustomElement)("media-time-display",c);var w=c;module.exports=f(x);
//# sourceMappingURL=media-time-display.js.map
