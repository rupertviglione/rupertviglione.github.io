{
  "version": 3,
  "sources": ["../../src/js/media-volume-range.js"],
  "sourcesContent": ["import { Window as window } from './utils/server-safe-globals.js';\nimport MediaChromeRange from './media-chrome-range.js';\nimport { defineCustomElement } from './utils/defineCustomElement.js';\nimport { MediaUIAttributes, MediaUIEvents } from './constants.js';\nimport { nouns } from './labels/labels.js';\n\nconst DEFAULT_MAX_VOLUME = 100;\n\nconst toVolume = (el) => {\n  const muted = el.getAttribute(MediaUIAttributes.MEDIA_MUTED) != null;\n  if (muted) return 0;\n\n  const volume = +(el.getAttribute(MediaUIAttributes.MEDIA_VOLUME) ?? 1);\n  return Math.round(volume * el.range.max);\n};\n\nconst formatAsPercentString = ({ value, max }) =>\n  `${Math.round((value / max) * 100)}%`;\n\nclass MediaVolumeRange extends MediaChromeRange {\n  static get observedAttributes() {\n    return [\n      ...super.observedAttributes,\n      MediaUIAttributes.MEDIA_VOLUME,\n      MediaUIAttributes.MEDIA_MUTED,\n      MediaUIAttributes.MEDIA_VOLUME_UNAVAILABLE,\n    ];\n  }\n\n  constructor() {\n    super();\n\n    this.range.max = DEFAULT_MAX_VOLUME;\n\n    this.range.addEventListener('input', () => {\n      const newVolume = this.range.value / this.range.max;\n      const detail = newVolume;\n      const evt = new window.CustomEvent(MediaUIEvents.MEDIA_VOLUME_REQUEST, {\n        composed: true,\n        bubbles: true,\n        detail,\n      });\n      this.dispatchEvent(evt);\n    });\n  }\n\n  connectedCallback() {\n    this.range.setAttribute('aria-label', nouns.VOLUME());\n    super.connectedCallback();\n  }\n\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    if (\n      attrName === MediaUIAttributes.MEDIA_VOLUME ||\n      attrName === MediaUIAttributes.MEDIA_MUTED\n    ) {\n      const newVolume = toVolume(this);\n      this.range.value = newVolume;\n      this.range.setAttribute(\n        'aria-valuetext',\n        formatAsPercentString(this.range)\n      );\n      this.updateBar();\n    }\n    super.attributeChangedCallback(attrName, oldValue, newValue);\n  }\n}\n\ndefineCustomElement('media-volume-range', MediaVolumeRange);\n\nexport default MediaVolumeRange;\n"],
  "mappings": "qrBAAA,oCAAiC,0CACjC,EAA6B,wCAC7B,EAAoC,0CACpC,EAAiD,0BACjD,EAAsB,8BAEtB,KAAM,GAAqB,IAErB,EAAW,AAAC,GAAO,CARzB,MAUE,GADc,EAAG,aAAa,oBAAkB,cAAgB,KACrD,MAAO,GAElB,KAAM,GAAS,CAAE,MAAG,aAAa,oBAAkB,gBAAlC,OAAmD,GACpE,MAAO,MAAK,MAAM,EAAS,EAAG,MAAM,MAGhC,EAAwB,CAAC,CAAE,QAAO,SACtC,GAAG,KAAK,MAAO,EAAQ,EAAO,QAEhC,eAA+B,UAAiB,WACnC,qBAAqB,CAC9B,MAAO,CACL,GAAG,MAAM,mBACT,oBAAkB,aAClB,oBAAkB,YAClB,oBAAkB,0BAItB,aAAc,CACZ,QAEA,KAAK,MAAM,IAAM,EAEjB,KAAK,MAAM,iBAAiB,QAAS,IAAM,CAEzC,KAAM,GADY,KAAK,MAAM,MAAQ,KAAK,MAAM,IAE1C,EAAM,GAAI,UAAO,YAAY,gBAAc,qBAAsB,CACrE,SAAU,GACV,QAAS,GACT,WAEF,KAAK,cAAc,KAIvB,mBAAoB,CAClB,KAAK,MAAM,aAAa,aAAc,QAAM,UAC5C,MAAM,oBAGR,yBAAyB,EAAU,EAAU,EAAU,CACrD,GACE,IAAa,oBAAkB,cAC/B,IAAa,oBAAkB,YAC/B,CACA,KAAM,GAAY,EAAS,MAC3B,KAAK,MAAM,MAAQ,EACnB,KAAK,MAAM,aACT,iBACA,EAAsB,KAAK,QAE7B,KAAK,YAEP,MAAM,yBAAyB,EAAU,EAAU,IAIvD,0BAAoB,qBAAsB,GAE1C,GAAO,GAAQ",
  "names": []
}
