var p=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var l=Object.getOwnPropertyNames;var m=Object.prototype.hasOwnProperty;var A=t=>p(t,"__esModule",{value:!0});var g=(t,r)=>{for(var e in r)p(t,e,{get:r[e],enumerable:!0})},k=(t,r,e,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of l(r))!m.call(t,n)&&(e||n!=="default")&&p(t,n,{get:()=>r[n],enumerable:!(o=d(r,n))||o.enumerable});return t};var L=(t=>(r,e)=>t&&t.get(r)||(e=k(A({}),r,1),t&&t.set(r,e),e))(typeof WeakMap!="undefined"?new WeakMap:0);var I={};g(I,{formatTextTrackObj:()=>f,getTextTracksList:()=>C,isMatchingPropOf:()=>T,parseTextTrackStr:()=>c,parseTextTracksStr:()=>a,parseTracks:()=>i,splitTextTracksStr:()=>x,stringifyTextTrackList:()=>U,textTrackObjAsPred:()=>u,updateTracksModeTo:()=>h});const x=(t="")=>t.split(/\s+/),c=(t="")=>{const[r,e]=t.split(":"),o=e?decodeURIComponent(e):void 0;return{language:r,label:o}},a=(t="",r={})=>x(t).map(e=>{const o=c(e);return{...r,...o}}),i=t=>Array.isArray(t)?t.map(r=>typeof r=="string"?c(r):r):typeof t=="string"?a(t):[t],f=({label:t,language:r}={})=>t?`${r}:${encodeURIComponent(t)}`:r,U=(t=[])=>Array.prototype.map.call(t,f).join(" "),T=(t,r)=>e=>e[t]===r,u=t=>{const r=Object.entries(t).map(([e,o])=>T(e,o));return e=>r.every(o=>o(e))},h=(t,r=[],e=[])=>{const o=i(e).map(u),n=s=>o.some(y=>y(s));Array.from(r).filter(n).forEach(s=>{s.mode=t})},C=(t,r=()=>!0)=>{if(!(t==null?void 0:t.textTracks))return[];const e=typeof r=="function"?r:u(r);return Array.from(t.textTracks).filter(e)};module.exports=L(I);
//# sourceMappingURL=captions.js.map
