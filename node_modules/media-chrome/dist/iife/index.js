var MediaChrome=(()=>{var B=Object.defineProperty;var ei=Object.getOwnPropertyDescriptor;var ii=Object.getOwnPropertyNames;var si=Object.prototype.hasOwnProperty;var ai=(s,t,e)=>t in s?B(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var ni=s=>B(s,"__esModule",{value:!0});var J=(s,t)=>{for(var e in t)B(s,e,{get:t[e],enumerable:!0})},oi=(s,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of ii(t))!si.call(s,n)&&(e||n!=="default")&&B(s,n,{get:()=>t[n],enumerable:!(i=ei(t,n))||i.enumerable});return s};var ri=(s=>(t,e)=>s&&s.get(t)||(e=oi(ni({}),t,1),s&&s.set(t,e),e))(typeof WeakMap!="undefined"?new WeakMap:0);var xt=(s,t,e)=>(ai(s,typeof t!="symbol"?t+"":t,e),e);var Ji={};J(Ji,{MediaAirplayButton:()=>Wt,MediaCaptionsButton:()=>he,MediaChromeButton:()=>b,MediaChromeRange:()=>U,MediaContainer:()=>kt,MediaControlBar:()=>oe,MediaController:()=>q,MediaCurrentTimeDisplay:()=>ce,MediaDurationDisplay:()=>de,MediaFullscreenButton:()=>_e,MediaLoadingIndicator:()=>qe,MediaMuteButton:()=>Se,MediaPipButton:()=>we,MediaPlayButton:()=>ye,MediaPlaybackRateButton:()=>Pe,MediaPosterImage:()=>Ne,MediaProgressRange:()=>Ve,MediaSeekBackwardButton:()=>Qe,MediaSeekForwardButton:()=>fe,MediaTheme:()=>Ze,MediaThumbnailPreview:()=>Ge,MediaThumbnailPreviewElement:()=>Ge,MediaTimeDisplay:()=>le,MediaTimeRange:()=>j,MediaTitleElement:()=>je,MediaVolumeRange:()=>Xe,constants:()=>H,labels:()=>Pt,timeUtils:()=>V});var H={};J(H,{AttributeToStateChangeEventMap:()=>tt,AvailabilityStates:()=>D,MediaStateChangeEvents:()=>T,MediaUIAttributes:()=>a,MediaUIEvents:()=>m,ReadyStates:()=>di,StateChangeEventToAttributeMap:()=>ci,TextTrackKinds:()=>C,TextTrackModes:()=>S});var m={MEDIA_PLAY_REQUEST:"mediaplayrequest",MEDIA_PAUSE_REQUEST:"mediapauserequest",MEDIA_MUTE_REQUEST:"mediamuterequest",MEDIA_UNMUTE_REQUEST:"mediaunmuterequest",MEDIA_VOLUME_REQUEST:"mediavolumerequest",MEDIA_SEEK_REQUEST:"mediaseekrequest",MEDIA_AIRPLAY_REQUEST:"mediaairplayrequest",MEDIA_ENTER_FULLSCREEN_REQUEST:"mediaenterfullscreenrequest",MEDIA_EXIT_FULLSCREEN_REQUEST:"mediaexitfullscreenrequest",MEDIA_PREVIEW_REQUEST:"mediapreviewrequest",MEDIA_ENTER_PIP_REQUEST:"mediaenterpiprequest",MEDIA_EXIT_PIP_REQUEST:"mediaexitpiprequest",MEDIA_SHOW_TEXT_TRACKS_REQUEST:"mediashowtexttracksrequest",MEDIA_HIDE_TEXT_TRACKS_REQUEST:"mediahidetexttracksrequest",MEDIA_SHOW_CAPTIONS_REQUEST:"mediashowcaptionsrequest",MEDIA_SHOW_SUBTITLES_REQUEST:"mediashowsubtitlesrequest",MEDIA_DISABLE_CAPTIONS_REQUEST:"mediadisablecaptionsrequest",MEDIA_DISABLE_SUBTITLES_REQUEST:"mediadisablesubtitlesrequest",MEDIA_PLAYBACK_RATE_REQUEST:"mediaplaybackraterequest",REGISTER_MEDIA_STATE_RECEIVER:"registermediastatereceiver",UNREGISTER_MEDIA_STATE_RECEIVER:"unregistermediastatereceiver"},T={MEDIA_AIRPLAY_UNAVAILABLE:"mediaairplayunavailablechange",MEDIA_PIP_UNAVAILABLE:"mediapipunavailablechange",MEDIA_PAUSED:"mediapausedchange",MEDIA_HAS_PLAYED:"mediahasplayedchange",MEDIA_MUTED:"mediamutedchange",MEDIA_VOLUME_LEVEL:"mediavolumelevelchange",MEDIA_VOLUME:"mediavolumechange",MEDIA_VOLUME_UNAVAILABLE:"mediavolumeunavailablechange",MEDIA_IS_PIP:"mediaispipchange",MEDIA_CAPTIONS_LIST:"mediacaptionslistchange",MEDIA_SUBTITLES_LIST:"mediasubtitleslistchange",MEDIA_CAPTIONS_SHOWING:"mediacaptionsshowingchange",MEDIA_SUBTITLES_SHOWING:"mediasubtitlesshowingchange",MEDIA_IS_FULLSCREEN:"mediaisfullscreenchange",MEDIA_PLAYBACK_RATE:"mediaplaybackratechange",MEDIA_CURRENT_TIME:"mediacurrenttimechange",MEDIA_DURATION:"mediadurationchange",MEDIA_PREVIEW_IMAGE:"mediapreviewimagechange",MEDIA_PREVIEW_COORDS:"mediapreviewcoordschange",MEDIA_LOADING:"medialoadingchange",USER_INACTIVE:"userinactivechange"},a={MEDIA_AIRPLAY_UNAVAILABLE:"media-airplay-unavailable",MEDIA_PIP_UNAVAILABLE:"media-pip-unavailable",MEDIA_PAUSED:"media-paused",MEDIA_HAS_PLAYED:"media-has-played",MEDIA_MUTED:"media-muted",MEDIA_VOLUME_LEVEL:"media-volume-level",MEDIA_VOLUME:"media-volume",MEDIA_VOLUME_UNAVAILABLE:"media-volume-unavailable",MEDIA_IS_PIP:"media-is-pip",MEDIA_CAPTIONS_LIST:"media-captions-list",MEDIA_SUBTITLES_LIST:"media-subtitles-list",MEDIA_CAPTIONS_SHOWING:"media-captions-showing",MEDIA_SUBTITLES_SHOWING:"media-subtitles-showing",MEDIA_IS_FULLSCREEN:"media-is-fullscreen",MEDIA_PLAYBACK_RATE:"media-playback-rate",MEDIA_CURRENT_TIME:"media-current-time",MEDIA_DURATION:"media-duration",MEDIA_PREVIEW_IMAGE:"media-preview-image",MEDIA_PREVIEW_COORDS:"media-preview-coords",MEDIA_CHROME_ATTRIBUTES:"media-chrome-attributes",MEDIA_CONTROLLER:"media-controller",MEDIA_LOADING:"media-loading",MEDIA_BUFFERED:"media-buffered"},ci=Object.entries(T).reduce((s,[t,e])=>{let i=a[t];return i&&(s[e]=i),s},{userinactivechange:"user-inactive"}),tt=Object.entries(a).reduce((s,[t,e])=>{let i=T[t];return i&&(s[e]=i),s},{"user-inactive":"userinactivechange"}),C={SUBTITLES:"subtitles",CAPTIONS:"captions",DESCRIPTIONS:"descriptions",CHAPTERS:"chapters",METADATA:"metadata"},S={DISABLED:"disabled",HIDDEN:"hidden",SHOWING:"showing"},di={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},D={UNAVAILABLE:"unavailable",UNSUPPORTED:"unsupported"};var f={AUDIO_PLAYER:()=>"audio player",VIDEO_PLAYER:()=>"video player",VOLUME:()=>"volume",SEEK:()=>"seek",CLOSED_CAPTIONS:()=>"closed captions",PLAYBACK_RATE:({playbackRate:s=1}={})=>`current playback rate ${s}`,PLAYBACK_TIME:()=>"playback time",MEDIA_LOADING:()=>"media loading"},A={PLAY:()=>"play",PAUSE:()=>"pause",MUTE:()=>"mute",UNMUTE:()=>"unmute",AIRPLAY:()=>"air play",ENTER_FULLSCREEN:()=>"enter fullscreen mode",EXIT_FULLSCREEN:()=>"exit fullscreen mode",ENTER_PIP:()=>"enter picture in picture mode",EXIT_PIP:()=>"exit picture in picture mode",SEEK_FORWARD_N_SECS:({seekOffset:s=30}={})=>`seek forward ${s} seconds`,SEEK_BACK_N_SECS:({seekOffset:s=30}={})=>`seek back ${s} seconds`},Pt={...f,...A};var V={};J(V,{formatAsTimePhrase:()=>L,formatTime:()=>v});var li=s=>typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s),Ot=[{singular:"hour",plural:"hours"},{singular:"minute",plural:"minutes"},{singular:"second",plural:"seconds"}],ui=(s,t)=>{let e=s===1?Ot[t].singular:Ot[t].plural;return`${s} ${e}`},L=s=>{if(!li(s))return"";let t=Math.abs(s),e=t!==s,i=new Date(0,0,0,0,0,t,0);return`${[i.getHours(),i.getMinutes(),i.getSeconds()].map((u,E)=>u&&ui(u,E)).filter(u=>u).join(", ")}${e?" remaining":""}`};function v(s,t){let e=!1;s<0&&(e=!0,s=0-s),s=s<0?0:s;let i=Math.floor(s%60),n=Math.floor(s/60%60),r=Math.floor(s/3600),o=Math.floor(t/60%60),u=Math.floor(t/3600);return(isNaN(s)||s===1/0)&&(r=n=i="-"),r=r>0||u>0?r+":":"",n=((r||o>=10)&&n<10?"0"+n:n)+":",i=i<10?"0"+i:i,(e?"-":"")+r+n+i}var Nt={HTMLElement:function(){this.addEventListener=()=>{},this.removeEventListener=()=>{},this.dispatchEvent=()=>{}},customElements:{get:function(){},define:function(){},whenDefined:function(){}},CustomEvent:function(){}},mi={createElement:function(){return new Nt.HTMLElement}},Bt=typeof window=="undefined"||typeof window.customElements=="undefined",d=Bt?Nt:window,c=Bt?mi:window.document;function l(s,t){d.customElements.get(s)||(d.customElements.define(s,t),d[t.name]=t)}var Vt=c.createElement("template");Vt.innerHTML=`
<style>
  :host {
    display: inline-block;
    width: auto;
    height: auto;
    vertical-align: middle;
    box-sizing: border-box;
    background: var(--media-control-background, rgba(20,20,30, 0.7));

    padding: 10px;

    /* Vertically center any text */
    font-size: 14px;
    font-weight: bold;
    color: #ffffff;
    text-align: center;

    transition: background 0.15s linear;

    pointer-events: auto;
    cursor: pointer;
    font-family: Arial, sans-serif;
    vertical-align: middle;
  }

  /*
    Only show outline when keyboard focusing.
    https://drafts.csswg.org/selectors-4/#the-focus-visible-pseudo
  */
  :host-context([media-keyboard-control]):host(:focus),
  :host-context([media-keyboard-control]):host(:focus-within) {
    box-shadow: inset 0 0 0 2px rgba(27, 127, 204, 0.9);
  }

  :host(:hover) {
    background: var(--media-control-hover-background, rgba(50,50,70, 0.7));
  }

  svg, img, ::slotted(svg), ::slotted(img) {
    width: var(--media-button-icon-width, 24px);
    height: var(--media-button-icon-height);
    transform: var(--media-button-icon-transform);
    transition: var(--media-button-icon-transition);
    fill: var(--media-icon-color, #eee);
    vertical-align: middle;
    max-width: 100%;
    max-height: 100%;
    min-width: 100%;
    min-height: 100%;
  }

  ::slotted(div), ::slotted(span) {
    height: 24px;
  }
</style>
`;var Ht=["Enter"," "],et=class extends d.HTMLElement{static get observedAttributes(){return[a.MEDIA_CONTROLLER]}constructor(t={}){super();let e=this.attachShadow({mode:"open"}),i=Vt.content.cloneNode(!0);this.nativeEl=i;let n=t.slotTemplate;n||(n=c.createElement("template"),n.innerHTML=`<slot>${t.defaultContent||""}</slot>`),this.nativeEl.appendChild(n.content.cloneNode(!0)),e.appendChild(i),this.addEventListener("click",o=>{this.handleClick(o)});let r=o=>{let{key:u}=o;if(!Ht.includes(u)){this.removeEventListener("keyup",r);return}this.handleClick(o)};this.addEventListener("keydown",o=>{let{metaKey:u,altKey:E,key:h}=o;if(u||E||!Ht.includes(h)){this.removeEventListener("keyup",r);return}this.addEventListener("keyup",r)})}attributeChangedCallback(t,e,i){var n,r;if(t===a.MEDIA_CONTROLLER){if(e){let o=c.getElementById(e);(n=o==null?void 0:o.unassociateElement)==null||n.call(o,this)}if(i){let o=c.getElementById(i);(r=o==null?void 0:o.associateElement)==null||r.call(o,this)}}}connectedCallback(){var e;this.setAttribute("role","button"),this.setAttribute("tabindex",0);let t=this.getAttribute(a.MEDIA_CONTROLLER);if(t){let i=c.getElementById(t);(e=i==null?void 0:i.associateElement)==null||e.call(i,this)}}disconnectedCallback(){var e;if(this.getAttribute(a.MEDIA_CONTROLLER)){let i=c.getElementById(mediaControllerId);(e=i==null?void 0:i.unassociateElement)==null||e.call(i,this)}}handleClick(){}};l("media-chrome-button",et);var b=et;var Ei='<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 18"><defs><style>.cls-1{fill:var(--media-icon-color, #eee);}</style></defs><title>Mux Player SVG Icons_v2</title><path class="cls-1" d="M10.19,11.22a.25.25,0,0,0-.38,0L4.35,17.59a.25.25,0,0,0,.19.41H15.46a.25.25,0,0,0,.19-.41Z"/><path class="cls-1" d="M19,0H1A1,1,0,0,0,0,1V14a1,1,0,0,0,1,1H3.94L5,13.75H1.25V1.25h17.5v12.5H15L16.06,15H19a1,1,0,0,0,1-1V1A1,1,0,0,0,19,0Z"/></svg>',$t=c.createElement("template");$t.innerHTML=`
  <style>
  </style>

  <slot name="airplay">${Ei}</slot>
`;var it=class extends b{static get observedAttributes(){return[...super.observedAttributes,a.MEDIA_AIRPLAY_UNAVAILABLE]}constructor(t={}){super({slotTemplate:$t,...t})}connectedCallback(){this.setAttribute("aria-label",A.AIRPLAY()),super.connectedCallback()}handleClick(t){let e=new d.CustomEvent(m.MEDIA_AIRPLAY_REQUEST,{composed:!0,bubbles:!0});this.dispatchEvent(e)}};l("media-airplay-button",it);var Wt=it;var Ft=c.createElement("template");Ft.innerHTML=`
  <style>
    :host {
      box-sizing: border-box;
      position: relative;
      display: inline-block;
      line-height: 0;
      background-color: #000;
    }

    :host(:not([audio])) *[part~=layer]:not([part~=media-layer]) {
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
      display: flex;
      flex-flow: column nowrap;
      align-items: start;
      pointer-events: none;
      background: none;
    }

    :host(:not([audio])) :is([part~=gestures-layer],[part~=media-layer])  {
      pointer-events: auto;
    }
    
    :host(:not([audio])) *[part~=layer][part~=centered-layer] {
      align-items: center;
      justify-content: center;
    }

    .spacer {
      pointer-events: none;
      background: none;
    }

    /* Position the media and poster elements to fill the container */
    ::slotted([slot=media]),
    ::slotted([slot=poster]) {
      width: 100%;
      height: 100%;
    }

    /* Video specific styles */
    :host(:not([audio])) .spacer {
      flex-grow: 1;
    }

    /* Safari needs this to actually make the element fill the window */
    :host(:-webkit-full-screen) {
      /* Needs to use !important otherwise easy to break */
      width: 100% !important;
      height: 100% !important;
    }

    /* Need to revisit this. May be too presumptuous for user-inactive behavior */
    ::slotted(:not([slot=media]):not([slot=poster])) {
      pointer-events: auto;
    }

    /* Only add these if auto hide is not disabled */
    ::slotted(:not([slot=media]):not([no-auto-hide])) {
      opacity: 1;
      transition: opacity 0.25s;
    }

    /* Hide controls when inactive, not paused, not audio and auto hide not disabled */
    :host([user-inactive]:not([${a.MEDIA_PAUSED}]):not([audio])) ::slotted(:not([slot=media]):not([no-auto-hide])) {
      opacity: 0;
      transition: opacity 1s;
    }

    ::slotted(media-control-bar)  {
      align-self: stretch;
    }
  </style>

  <span part="layer media-layer">
    <slot name="media"></slot>
  </span>
  <span part="layer poster-layer">
    <slot name="poster"></slot>
  </span>
  <span part="layer gesture-layer">
    <slot name="gestures-chrome"></slot>
  </span>
  <span part="layer vertical-layer">
    <slot name="top-chrome"></slot>
    <span class="spacer"><slot name="middle-chrome"></slot></span>
    <!-- default, effectively "bottom-chrome" -->
    <slot></slot>
  </span>
  <span part="layer centered-layer">
    <slot name="centered-chrome"></slot>
  </span>
`;var hi=Object.values(a),st=class extends d.HTMLElement{constructor(){super();let t=this.attachShadow({mode:"open"});this.shadowRoot.appendChild(Ft.content.cloneNode(!0));let e=(o,u)=>{let E=this.media;for(let h of o)h.type==="childList"&&(h.removedNodes.forEach(p=>{if(p.slot=="media"&&h.target==this){let _=h.previousSibling&&h.previousSibling.previousElementSibling;if(!_||!E)this.mediaUnsetCallback(p);else{let w=_.slot!=="media";for(;(_=_.previousSibling)!==null;)_.slot=="media"&&(w=!1);w&&this.mediaUnsetCallback(p)}}}),E&&h.addedNodes.forEach(p=>{p==E&&this.handleMediaUpdated(E).then(_=>this.mediaSetCallback(_))}))};new MutationObserver(e).observe(this,{childList:!0,subtree:!0});let n=this.media,r=this.querySelector(":scope > slot[slot=media]");r&&r.addEventListener("slotchange",()=>{if(!r.assignedElements({flatten:!0}).length){this.mediaUnsetCallback(n);return}this.media&&(n=this.media,this.handleMediaUpdated(this.media).then(u=>this.mediaSetCallback(u)))})}static get observedAttributes(){return["autohide"].concat(hi)}attributeChangedCallback(t,e,i){t.toLowerCase()=="autohide"&&(this.autohide=i)}get media(){let t=this.querySelector(":scope > [slot=media]");return(t==null?void 0:t.nodeName)=="SLOT"&&(t=t.assignedElements({flatten:!0})[0]),t}mediaSetCallback(t){this._mediaClickPlayToggle=e=>{let i=t.paused?m.MEDIA_PLAY_REQUEST:m.MEDIA_PAUSE_REQUEST;this.dispatchEvent(new d.CustomEvent(i,{composed:!0,bubbles:!0}))}}handleMediaUpdated(t){let e=r=>Promise.resolve(r),i=r=>(console.error('<media-chrome>: Media element set with slot="media" does not appear to be compatible.',r),Promise.reject(r));if(!t)return i(t);let n=t.nodeName.toLowerCase();return n.includes("-")?d.customElements.whenDefined(n).then(()=>e(t)):e(t)}mediaUnsetCallback(t){}connectedCallback(){let e=this.getAttribute("audio")!=null?f.AUDIO_PLAYER():f.VIDEO_PLAYER();this.setAttribute("role","region"),this.setAttribute("aria-label",e),this.media&&this.handleMediaUpdated(this.media).then(n=>this.mediaSetCallback(n)),this.setAttribute("user-inactive","user-inactive");let i=()=>{this.removeAttribute("user-inactive");let n=new d.CustomEvent(T.USER_INACTIVE,{composed:!0,bubbles:!0,detail:!1});this.dispatchEvent(n),d.clearTimeout(this._inactiveTimeout),!(this.autohide<0)&&(this._inactiveTimeout=d.setTimeout(()=>{this.setAttribute("user-inactive","user-inactive");let r=new d.CustomEvent(T.USER_INACTIVE,{composed:!0,bubbles:!0,detail:!0});this.dispatchEvent(r)},this.autohide*1e3))};this.addEventListener("keyup",n=>{i()}),this.addEventListener("keyup",n=>{this.setAttribute("media-keyboard-control","media-keyboard-control")}),this.addEventListener("mouseup",n=>{this.removeAttribute("media-keyboard-control")}),this.addEventListener("mousemove",n=>{if(n.target===this)return;this.removeAttribute("user-inactive");let r=new d.CustomEvent(T.USER_INACTIVE,{composed:!0,bubbles:!0,detail:!1});this.dispatchEvent(r),d.clearTimeout(this._inactiveTimeout),n.target===this.media&&i()}),this.addEventListener("mouseleave",n=>{if(this.autohide<0)return;this.setAttribute("user-inactive","user-inactive");let r=new d.CustomEvent(T.USER_INACTIVE,{composed:!0,bubbles:!0,detail:!0});this.dispatchEvent(r)})}set autohide(t){t=Number(t),this._autohide=isNaN(t)?0:t}get autohide(){return this._autohide===void 0?2:this._autohide}};l("media-container-temp",st);var Qt=st;var I={enter:"requestFullscreen",exit:"exitFullscreen",event:"fullscreenchange",element:"fullscreenElement",error:"fullscreenerror"};c.fullscreenElement===void 0&&(I.enter="webkitRequestFullScreen",I.exit=c.webkitExitFullscreen!=null?"webkitExitFullscreen":"webkitCancelFullScreen",I.event="webkitfullscreenchange",I.element="webkitFullscreenElement",I.error="webkitfullscreenerror");function $(s,t=!1){return s.split("_").map(function(e,i){return(i||t?e[0].toUpperCase():e[0].toLowerCase())+e.slice(1).toLowerCase()}).join("")}var W=(s,t,e=".value")=>{let i=s.querySelector(e);!i||(i.textContent=t)},pi=(s,t)=>{let e=`slot[name="${t}"]`,i=s.shadowRoot.querySelector(e);return i?i.children:[]},F=(s,t)=>pi(s,t)[0],at=(s,t)=>!s||!t?!1:s.contains(t)?!0:[s,...s.querySelectorAll("*")].some(e=>at(e.shadowRoot,t));var Q=(s="")=>s.split(/\s+/),zt=(s="")=>{let[t,e]=s.split(":"),i=e?decodeURIComponent(e):void 0;return{language:t,label:i}},bi=(s="",t={})=>Q(s).map(e=>{let i=zt(e);return{...t,...i}}),Ai=s=>Array.isArray(s)?s.map(t=>typeof t=="string"?zt(t):t):typeof s=="string"?bi(s):[s],fi=({label:s,language:t}={})=>s?`${t}:${encodeURIComponent(s)}`:t,M=(s=[])=>Array.prototype.map.call(s,fi).join(" "),Ii=(s,t)=>e=>e[s]===t,Gt=s=>{let t=Object.entries(s).map(([e,i])=>Ii(e,i));return e=>t.every(i=>i(e))},x=(s,t=[],e=[])=>{let i=Ai(e).map(Gt),n=r=>i.some(o=>o(r));Array.from(t).filter(n).forEach(r=>{r.mode=s})},R=(s,t=()=>!0)=>{if(!(s==null?void 0:s.textTracks))return[];let e=typeof t=="function"?t:Gt(t);return Array.from(s.textTracks).filter(e)};var{MEDIA_PLAY_REQUEST:ks,MEDIA_PAUSE_REQUEST:xs,MEDIA_MUTE_REQUEST:Ps,MEDIA_UNMUTE_REQUEST:Os,MEDIA_VOLUME_REQUEST:Ns,MEDIA_ENTER_FULLSCREEN_REQUEST:Bs,MEDIA_EXIT_FULLSCREEN_REQUEST:Hs,MEDIA_SEEK_REQUEST:Vs,MEDIA_PREVIEW_REQUEST:$s,MEDIA_ENTER_PIP_REQUEST:Ws,MEDIA_EXIT_PIP_REQUEST:Fs,MEDIA_PLAYBACK_RATE_REQUEST:Qs}=m,ct=class extends Qt{constructor(){super();Ci||(this._airplayUnavailable=D.UNSUPPORTED),Di||(this._pipUnavailable=D.UNSUPPORTED),O!==void 0?O||(this._volumeUnavailable=D.UNSUPPORTED):Li.then(()=>{O||(this._volumeUnavailable=D.UNSUPPORTED,this.propagateMediaState(a.MEDIA_VOLUME_UNAVAILABLE,this._volumeUnavailable))}),this.mediaStateReceivers=[],this.associatedElementSubscriptions=new Map,this.associatedElements=[],this.associateElement(this);let t={MEDIA_PLAY_REQUEST:()=>this.media.play(),MEDIA_PAUSE_REQUEST:()=>this.media.pause(),MEDIA_MUTE_REQUEST:()=>this.media.muted=!0,MEDIA_UNMUTE_REQUEST:()=>{let e=this.media;e.muted=!1,e.volume===0&&(e.volume=.25)},MEDIA_VOLUME_REQUEST:e=>{let i=this.media,n=e.detail;i.volume=n,n>0&&i.muted&&(i.muted=!1);try{d.localStorage.setItem("media-chrome-pref-volume",n.toString())}catch{}},MEDIA_ENTER_FULLSCREEN_REQUEST:()=>{let e=this.media;c.pictureInPictureElement&&c.exitPictureInPicture(),super[I.enter]?super[I.enter]():e.webkitEnterFullscreen?e.webkitEnterFullscreen():e.requestFullscreen?e.requestFullscreen():console.warn("MediaChrome: Fullscreen not supported")},MEDIA_EXIT_FULLSCREEN_REQUEST:()=>{c[I.exit]()},MEDIA_ENTER_PIP_REQUEST:()=>{let e=this.media;!c.pictureInPictureEnabled||(c[I.element]&&c[I.exit](),e.requestPictureInPicture())},MEDIA_EXIT_PIP_REQUEST:()=>{c.pictureInPictureElement&&c.exitPictureInPicture()},MEDIA_SEEK_REQUEST:e=>{let i=this.media,n=e.detail;(i.readyState>0||i.readyState===void 0)&&(i.currentTime=n)},MEDIA_PLAYBACK_RATE_REQUEST:e=>{this.media.playbackRate=e.detail},MEDIA_PREVIEW_REQUEST:e=>{var p;let i=this.media;if(!i)return;let[n]=R(i,{kind:C.METADATA,label:"thumbnails"});if(!(n&&n.cues))return;let r=e.detail,o=Array.prototype.find.call(n.cues,_=>_.startTime>=r);if(!o)return;let u=/'^(?:[a-z]+:)?\/\//i.test(o.text)||(p=i.querySelector('track[label="thumbnails"]'))==null?void 0:p.src,E=new URL(o.text,u),h=new URLSearchParams(E.hash).get("#xywh");this.propagateMediaState(a.MEDIA_PREVIEW_IMAGE,E.href),this.propagateMediaState(a.MEDIA_PREVIEW_COORDS,h.split(",").join(" "))},MEDIA_SHOW_CAPTIONS_REQUEST:e=>{let i=G(this),{detail:n=[]}=e;x(S.SHOWING,i,n)},MEDIA_DISABLE_CAPTIONS_REQUEST:e=>{let i=G(this),{detail:n=[]}=e;x(S.DISABLED,i,n)},MEDIA_SHOW_SUBTITLES_REQUEST:e=>{let i=z(this),{detail:n=[]}=e;x(S.SHOWING,i,n)},MEDIA_DISABLE_SUBTITLES_REQUEST:e=>{let i=z(this),{detail:n=[]}=e;x(S.DISABLED,i,n)},MEDIA_AIRPLAY_REQUEST:e=>{let{media:i}=this;if(!!i){if(!(i.webkitShowPlaybackTargetPicker&&d.WebKitPlaybackTargetAvailabilityEvent)){console.warn("received a request to select AirPlay but AirPlay is not supported in this environment");return}i.webkitShowPlaybackTargetPicker()}}};if(Object.keys(t).forEach(e=>{let i=`_handle${$(e,!0)}`;this[i]=n=>{if(n.stopPropagation(),!this.media){console.warn("MediaController: No media available.");return}t[e](n,this.media)},this.addEventListener(m[e],this[i])}),this._mediaStatePropagators={"play,pause,emptied":()=>{this.propagateMediaState(a.MEDIA_PAUSED,Yt(this))},"playing,emptied":()=>{var e;this.propagateMediaState(a.MEDIA_HAS_PLAYED,!((e=this.media)==null?void 0:e.paused))},volumechange:()=>{this.propagateMediaState(a.MEDIA_MUTED,qt(this)),this.propagateMediaState(a.MEDIA_VOLUME,Kt(this)),this.propagateMediaState(a.MEDIA_VOLUME_LEVEL,jt(this))},[I.event]:()=>{var i;let e=c[I.element];this.propagateMediaState(a.MEDIA_IS_FULLSCREEN,e===((i=this.getRootNode().host)!=null?i:this))},"enterpictureinpicture,leavepictureinpicture":e=>{var n;let i;if(e)i=e.type=="enterpictureinpicture";else{let r=(n=this.getRootNode().pictureInPictureElement)!=null?n:c.pictureInPictureElement;i=this.media&&at(this.media,r)}this.propagateMediaState(a.MEDIA_IS_PIP,i)},"timeupdate,loadedmetadata":()=>{this.propagateMediaState(a.MEDIA_CURRENT_TIME,Xt(this))},"durationchange,loadedmetadata,emptied":()=>{this.propagateMediaState(a.MEDIA_DURATION,Zt(this))},"progress,emptied":()=>{var e;this.propagateMediaState(a.MEDIA_BUFFERED,wi((e=this.media)==null?void 0:e.buffered))},ratechange:()=>{this.propagateMediaState(a.MEDIA_PLAYBACK_RATE,Jt(this))},"waiting,playing,emptied":()=>{var i;let e=((i=this.media)==null?void 0:i.readyState)<3;this.propagateMediaState(a.MEDIA_LOADING,e)}},this._airplayUnavailable!==D.UNSUPPORTED){let e=i=>{(i==null?void 0:i.availability)==="available"?this._airplayUnavailable=void 0:(i==null?void 0:i.availability)==="not-available"&&(this._airplayUnavailable=D.UNAVAILABLE),this.propagateMediaState(a.MEDIA_AIRPLAY_UNAVAILABLE,this._airplayUnavailable)};this._mediaStatePropagators.webkitplaybacktargetavailabilitychanged=e}this._textTrackMediaStatePropagators={"addtrack,removetrack,loadstart":()=>{this.propagateMediaState(a.MEDIA_CAPTIONS_LIST,M(G(this))||void 0),this.propagateMediaState(a.MEDIA_SUBTITLES_LIST,M(z(this))||void 0),this.propagateMediaState(a.MEDIA_CAPTIONS_SHOWING,M(ot(this))||void 0),this.propagateMediaState(a.MEDIA_SUBTITLES_SHOWING,M(nt(this))||void 0)},change:()=>{this.propagateMediaState(a.MEDIA_CAPTIONS_SHOWING,M(ot(this))||void 0),this.propagateMediaState(a.MEDIA_SUBTITLES_SHOWING,M(nt(this))||void 0)}}}mediaSetCallback(t){super.mediaSetCallback(t),Object.keys(this._mediaStatePropagators).forEach(e=>{let i=e.split(","),n=this._mediaStatePropagators[e];i.forEach(r=>{(r==I.event?this.getRootNode():t).addEventListener(r,n)}),n()}),Object.entries(this._textTrackMediaStatePropagators).forEach(([e,i])=>{e.split(",").forEach(r=>{t.textTracks&&t.textTracks.addEventListener(r,i)}),i()});try{let e=d.localStorage.getItem("media-chrome-pref-volume");e!==null&&(t.volume=e)}catch(e){console.debug("Error getting volume pref",e)}}mediaUnsetCallback(t){super.mediaUnsetCallback(t),Object.keys(this._mediaStatePropagators).forEach(e=>{let i=e.split(","),n=this._mediaStatePropagators[e];i.forEach(r=>{(r==I.event?this.getRootNode():t).removeEventListener(r,n)})}),Object.entries(this._textTrackMediaStatePropagators).forEach(([e,i])=>{e.split(",").forEach(r=>{t.textTracks&&t.textTracks.removeEventListener(r,i)}),i()}),this.propagateMediaState(a.MEDIA_PAUSED,!0)}propagateMediaState(t,e){g(this.mediaStateReceivers,t,e);let i=new d.CustomEvent(tt[t],{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(i)}associateElement(t){if(!t)return;let{associatedElementSubscriptions:e}=this;if(e.has(t))return;let i=this.registerMediaStateReceiver.bind(this),n=this.unregisterMediaStateReceiver.bind(this),r=vi(t,i,n);Object.keys(m).forEach(o=>{t.addEventListener(m[o],this[`_handle${$(o,!0)}`])}),e.set(t,r)}unassociateElement(t){if(!t)return;let{associatedElementSubscriptions:e}=this;if(!e.has(t))return;e.get(t)(),e.delete(t),Object.keys(m).forEach(n=>{t.removeEventListener(m[n],this[`_handle${$(n,!0)}`])})}registerMediaStateReceiver(t){if(!t)return;let e=this.mediaStateReceivers;e.indexOf(t)>-1||(e.push(t),g([t],a.MEDIA_VOLUME_UNAVAILABLE,this._volumeUnavailable),g([t],a.MEDIA_AIRPLAY_UNAVAILABLE,this._airplayUnavailable),g([t],a.MEDIA_PIP_UNAVAILABLE,this._pipUnavailable),this.media&&(g([t],a.MEDIA_CAPTIONS_LIST,M(G(this))||void 0),g([t],a.MEDIA_SUBTITLES_LIST,M(z(this))||void 0),g([t],a.MEDIA_CAPTIONS_SHOWING,M(ot(this))||void 0),g([t],a.MEDIA_SUBTITLES_SHOWING,M(nt(this))||void 0),g([t],a.MEDIA_PAUSED,Yt(this)),g([t],a.MEDIA_MUTED,qt(this)),g([t],a.MEDIA_VOLUME,Kt(this)),g([t],a.MEDIA_VOLUME_LEVEL,jt(this)),g([t],a.MEDIA_CURRENT_TIME,Xt(this)),g([t],a.MEDIA_DURATION,Zt(this)),g([t],a.MEDIA_PLAYBACK_RATE,Jt(this))))}unregisterMediaStateReceiver(t){let e=this.mediaStateReceivers,i=e.indexOf(t);i<0||e.splice(i,1)}},Yt=s=>s.media?s.media.paused:!0,qt=s=>!!(s.media&&s.media.muted),Kt=s=>{let t=s.media;return t?t.volume:1},jt=s=>{let t="high";if(!s.media)return t;let{muted:e,volume:i}=s.media;return i===0||e?t="off":i<.5?t="low":i<.75&&(t="medium"),t},Xt=s=>{let t=s.media;return t?t.currentTime:0},Zt=s=>{let t=s.media;return t?t.duration:NaN},Jt=s=>{let t=s.media;return t?t.playbackRate:1},z=s=>R(s.media,{kind:C.SUBTITLES}),G=s=>R(s.media,{kind:C.CAPTIONS}),nt=s=>R(s.media,{kind:C.SUBTITLES,mode:S.SHOWING}),ot=s=>R(s.media,{kind:C.CAPTIONS,mode:S.SHOWING}),gi=Object.values(a),te=s=>{var i,n,r;let{constructor:{observedAttributes:t}}=s,e=(r=(n=(i=s==null?void 0:s.getAttribute)==null?void 0:i.call(s,a.MEDIA_CHROME_ATTRIBUTES))==null?void 0:n.split)==null?void 0:r.call(n,/\s+/);return Array.isArray(t||e)?(t||e).filter(o=>gi.includes(o)):[]},rt=s=>!!te(s).length,_i=async(s,t,e)=>(s.isConnected||await ie(0),e==null?s.removeAttribute(t):typeof e=="boolean"?e?s.setAttribute(t,""):s.removeAttribute(t):Number.isNaN(e)?s.removeAttribute(t):s.setAttribute(t,e)),Mi=s=>{var t;return!!((t=s.closest)==null?void 0:t.call(s,'*[slot="media"]'))},P=(s,t)=>{if(Mi(s))return;let e=(n,r)=>{var h,p;rt(n)&&r(n);let{children:o=[]}=n!=null?n:{},u=(p=(h=n==null?void 0:n.shadowRoot)==null?void 0:h.children)!=null?p:[];[...o,...u].forEach(_=>P(_,r))},i=s==null?void 0:s.nodeName.toLowerCase();if(i.includes("-")&&!rt(s)){d.customElements.whenDefined(i).then(()=>{e(s,t)});return}e(s,t)},g=(s,t,e)=>{s.forEach(i=>{!te(i).includes(t)||_i(i,t,e)})},vi=(s,t,e)=>{P(s,t);let i=E=>{var p;let h=(p=E==null?void 0:E.composedPath()[0])!=null?p:E.target;t(h)},n=E=>{var p;let h=(p=E==null?void 0:E.composedPath()[0])!=null?p:E.target;e(h)};s.addEventListener(m.REGISTER_MEDIA_STATE_RECEIVER,i),s.addEventListener(m.UNREGISTER_MEDIA_STATE_RECEIVER,n);let r=(E,h)=>{E.forEach(p=>{let{addedNodes:_=[],removedNodes:w=[],type:N,target:k,attributeName:ti}=p;N==="childList"?(Array.prototype.forEach.call(_,Z=>P(Z,t)),Array.prototype.forEach.call(w,Z=>P(Z,e))):N==="attributes"&&ti===a.MEDIA_CHROME_ATTRIBUTES&&(rt(k)?t(k):e(k))})},o=new MutationObserver(r);return o.observe(s,{childList:!0,attributes:!0,subtree:!0}),()=>{P(s,e),o.disconnect(),s.removeEventListener(m.REGISTER_MEDIA_STATE_RECEIVER,i),s.removeEventListener(m.UNREGISTER_MEDIA_STATE_RECEIVER,n)}},Y,ee=()=>{var s,t;return Y||(Y=(t=(s=c)==null?void 0:s.createElement)==null?void 0:t.call(s,"video"),Y)},Ti=async(s=ee())=>{if(!s)return!1;let t=s.volume;return s.volume=t/2+.1,await ie(0),s.volume!==t},ie=s=>new Promise((t,e)=>setTimeout(t,s)),Si=(s=ee())=>typeof(s==null?void 0:s.requestPictureInPicture)=="function",Di=Si(),O,Li=Ti().then(s=>(O=s,O)),Ci=!!d.WebKitPlaybackTargetAvailabilityEvent;function wi(s=[]){return Array.from(s).map((t,e)=>[Number(s.start(e).toFixed(2)),Number(s.end(e).toFixed(2))].join(":")).join(" ")}l("media-controller",ct);var q=ct;var ae=c.createElement("template"),se=`
  height: var(--thumb-height);
  width: var(--media-range-thumb-width, 10px);
  border: var(--media-range-thumb-border, none);
  border-radius: var(--media-range-thumb-border-radius, 10px);
  background: var(--media-range-thumb-background, #fff);
  box-shadow: var(--media-range-thumb-box-shadow, 1px 1px 1px transparent);
  cursor: pointer;
  transition: var(--media-range-thumb-transition, none);
  transform: var(--media-range-thumb-transform, none);
  opacity: var(--media-range-thumb-opacity, 1);
`,dt=`
  width: var(--media-range-track-width, 100%);
  min-width: 40px;
  height: var(--track-height);
  border: var(--media-range-track-border, none);
  border-radius: var(--media-range-track-border-radius, 0);
  background: var(--media-range-track-background-internal, var(--media-range-track-background-color, #eee));

  box-shadow: var(--media-range-track-box-shadow, none);
  transition: var(--media-range-track-transition, none);
  cursor: pointer;
`;ae.innerHTML=`
  <style>
    :host {
      --thumb-height: var(--media-range-thumb-height, 10px);
      --track-height: var(--media-range-track-height, 4px);

      position: relative;
      display: inline-block;
      vertical-align: middle;
      box-sizing: border-box;
      background: var(--media-control-background, rgba(20,20,30, 0.7));
      transition: background 0.15s linear;
      height: 44px;
      width: 100px;
      padding: 0 10px;

      pointer-events: auto;
    }

    /*
      Only show outline when keyboard focusing.
      https://drafts.csswg.org/selectors-4/#the-focus-visible-pseudo
    */
    :host-context([media-keyboard-control]):host(:focus),
    :host-context([media-keyboard-control]):host(:focus-within) {
      box-shadow: inset 0 0 0 2px rgba(27, 127, 204, 0.9);
    }

    :host(:hover) {
      background: var(--media-control-hover-background, rgba(50,50,60, 0.7));
    }

    input[type=range] {
      /* Reset */
      -webkit-appearance: none; /* Hides the slider so that custom slider can be made */
      background: transparent; /* Otherwise white in Chrome */

      /* Fill host with the range */
      min-height: 100%;
      width: var(--media-range-track-width, 100%); /* Specific width is required for Firefox. */

      box-sizing: border-box;
      padding: 0;
      margin: 0;
    }

    /* Special styling for WebKit/Blink */
    input[type=range]::-webkit-slider-thumb {
      -webkit-appearance: none;
      ${se}
      /* You need to specify a margin in Chrome, but in Firefox and IE it is automatic */
      margin-top: calc(calc(0px - var(--thumb-height) + var(--track-height)) / 2);
    }
    input[type=range]::-moz-range-thumb { ${se} }

    input[type=range]::-webkit-slider-runnable-track { ${dt} }
    input[type=range]::-moz-range-track { ${dt} }
    input[type=range]::-ms-track {
      /* Reset */
      width: 100%;
      cursor: pointer;
      /* Hides the slider so custom styles can be added */
      background: transparent;
      border-color: transparent;
      color: transparent;

      ${dt}
    }

    /* Eventually want to move towards different styles for focus-visible
       https://github.com/WICG/focus-visible/blob/master/src/focus-visible.js
       Youtube appears to do this by de-focusing a button after a button click */
    input[type=range]:focus {
      outline: 0;
    }
    input[type=range]:focus::-webkit-slider-runnable-track {
      outline: 0;
    }

    input[type=range]:disabled::-webkit-slider-thumb {
      background-color: #777;
    }

    input[type=range]:disabled::-webkit-slider-runnable-track {
      background-color: #777;
    }

  </style>
  <input id="range" type="range" min="0" max="1000" step="1" value="0">
`;var lt=class extends d.HTMLElement{static get observedAttributes(){return[a.MEDIA_CONTROLLER]}constructor(){super();this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(ae.content.cloneNode(!0)),this.range=this.shadowRoot.querySelector("#range"),this.range.addEventListener("input",this.updateBar.bind(this))}attributeChangedCallback(t,e,i){var n,r;if(t===a.MEDIA_CONTROLLER){if(e){let o=c.getElementById(e);(n=o==null?void 0:o.unassociateElement)==null||n.call(o,this)}if(i){let o=c.getElementById(i);(r=o==null?void 0:o.associateElement)==null||r.call(o,this)}}}connectedCallback(){var e;let t=this.getAttribute(a.MEDIA_CONTROLLER);if(t){let i=c.getElementById(t);(e=i==null?void 0:i.associateElement)==null||e.call(i,this)}this.updateBar()}disconnectedCallback(){var e;if(this.getAttribute(a.MEDIA_CONTROLLER)){let i=c.getElementById(mediaControllerId);(e=i==null?void 0:i.unassociateElement)==null||e.call(i,this)}}updateBar(){let t=this.getBarColors(),e="linear-gradient(to right, ",i=0;t.forEach(n=>{n[1]<i||(e=e+`${n[0]} ${i}%, ${n[0]} ${n[1]}%,`,i=n[1])}),e=e.slice(0,e.length-1)+")",this.style.setProperty("--media-range-track-background-internal",e)}getBarColors(){let t=this.range,e=t.value/t.max*100;return[["var(--media-range-bar-color, #fff)",e],["var(--media-range-track-background-color, #333)",100]]}};l("media-chrome-range",lt);var U=lt;var ne=c.createElement("template");ne.innerHTML=`
  <style>
    :host {
      /* Need position to display above video for some reason */
      box-sizing: border-box;
      display: inline-flex;
      color: var(--media-icon-color, #eee);
      --media-loading-icon-width: 44px;
    }

    media-time-range,
    ::slotted(media-time-range),
    ::slotted(media-progress-range),
    ::slotted(media-clip-selector) {
      flex-grow: 1;
    }
  </style>

  <slot></slot>
`;var ut=class extends d.HTMLElement{static get observedAttributes(){return[a.MEDIA_CONTROLLER]}constructor(){super();this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(ne.content.cloneNode(!0))}attributeChangedCallback(t,e,i){var n,r;if(t===a.MEDIA_CONTROLLER){if(e){let o=c.getElementById(e);(n=o==null?void 0:o.unassociateElement)==null||n.call(o,this)}if(i){let o=c.getElementById(i);(r=o==null?void 0:o.associateElement)==null||r.call(o,this)}}}connectedCallback(){var e;let t=this.getAttribute(a.MEDIA_CONTROLLER);if(t){let i=c.getElementById(t);(e=i==null?void 0:i.associateElement)==null||e.call(i,this)}}disconnectedCallback(){var e;if(this.getAttribute(a.MEDIA_CONTROLLER)){let i=c.getElementById(mediaControllerId);(e=i==null?void 0:i.unassociateElement)==null||e.call(i,this)}}};l("media-control-bar",ut);var oe=ut;var re=c.createElement("template");re.innerHTML=`
  <style>
    :host {
      display: inline-flex;
      justify-content: center;
      align-items: center;
      box-sizing: border-box;
      background: var(--media-control-background, rgba(20,20,30, 0.7));
  
      padding: 10px;

      font-size: 14px;
      line-height: 24px;
      font-family: Arial, sans-serif;
      text-align: center;
      color: #ffffff;
      pointer-events: auto;
    }

    #container {
      /* NOTE: We don't currently have more generic sizing vars */
      height: var(--media-text-content-height, auto);
    }
  </style>
  <span id="container">
  <slot></slot>
  </span>
`;var mt=class extends d.HTMLElement{static get observedAttributes(){return[a.MEDIA_CONTROLLER]}constructor(){super();this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(re.content.cloneNode(!0)),this.container=this.shadowRoot.querySelector("#container")}attributeChangedCallback(t,e,i){var n,r;if(t===a.MEDIA_CONTROLLER){if(e){let o=c.getElementById(e);(n=o==null?void 0:o.unassociateElement)==null||n.call(o,this)}if(i){let o=c.getElementById(i);(r=o==null?void 0:o.associateElement)==null||r.call(o,this)}}}connectedCallback(){var e;let t=this.getAttribute(a.MEDIA_CONTROLLER);if(t){let i=c.getElementById(t);(e=i==null?void 0:i.associateElement)==null||e.call(i,this)}}disconnectedCallback(){var e;if(this.getAttribute(a.MEDIA_CONTROLLER)){let i=c.getElementById(mediaControllerId);(e=i==null?void 0:i.unassociateElement)==null||e.call(i,this)}}};l("media-text-display",mt);var y=mt;var Et=class extends y{static get observedAttributes(){return[...super.observedAttributes,a.MEDIA_CURRENT_TIME]}attributeChangedCallback(t,e,i){t===a.MEDIA_CURRENT_TIME&&(this.container.innerHTML=v(i)),super.attributeChangedCallback(t,e,i)}};l("media-current-time-display",Et);var ce=Et;var ht=class extends y{static get observedAttributes(){return[...super.observedAttributes,a.MEDIA_DURATION]}attributeChangedCallback(t,e,i){t===a.MEDIA_DURATION&&(this.container.innerHTML=v(i)),super.attributeChangedCallback(t,e,i)}};l("media-duration-display",ht);var de=ht;var Ri="&nbsp;/&nbsp;",Ui=(s,{timesSep:t=Ri}={})=>{let e=s.getAttribute("remaining")!=null,i=s.getAttribute("show-duration")!=null,n=+s.getAttribute(a.MEDIA_CURRENT_TIME),r=+s.getAttribute(a.MEDIA_DURATION),o=e?v(0-(r-n)):v(n);return i?`${o}${t}${v(r)}`:o},yi="video not loaded, unknown time.",ki=s=>{if(!(s.hasAttribute(a.MEDIA_CURRENT_TIME)&&s.hasAttribute(a.MEDIA_DURATION))){s.setAttribute("aria-valuetext",yi);return}let t=s.getAttribute("remaining")!=null,e=s.getAttribute("show-duration")!=null,i=+s.getAttribute(a.MEDIA_CURRENT_TIME),n=+s.getAttribute(a.MEDIA_DURATION),r=t?L(0-(n-i)):L(i);if(!e){s.setAttribute("aria-valuetext",r);return}let o=L(n),u=`${r} of ${o}`;s.setAttribute("aria-valuetext",u)},pt=class extends y{static get observedAttributes(){return[...super.observedAttributes,a.MEDIA_CURRENT_TIME,a.MEDIA_DURATION,"remaining","show-duration"]}connectedCallback(){this.setAttribute("role","progressbar"),this.setAttribute("aria-label",f.PLAYBACK_TIME()),this.setAttribute("tabindex",0),super.connectedCallback()}attributeChangedCallback(t,e,i){if([a.MEDIA_CURRENT_TIME,a.MEDIA_DURATION,"remaining","show-duration"].includes(t)){let n=Ui(this);ki(this),this.container.innerHTML=n}super.attributeChangedCallback(t,e,i)}};l("media-time-display",pt);var le=pt;var xi=`
<svg
   aria-hidden="true"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   version="1.0"
   viewbox="0 0 153 125.71389"
   width="auto"
   height="24">
  <g
     transform="scale(6.3080558,6.3080558)"
     id="g12">
    <path
       class="icon" 
       d="M 21.9806,9.0135 C 21.9505,5.8358 21.8299,4.4502 21.077,3.4712 C 20.9415,3.2605 20.6854,3.14 20.4746,2.9895 C 19.7366,2.4472 16.2577,2.2515 12.2215,2.2515 C 8.1853,2.2515 4.54077,2.4472 3.81787,2.9895 C 3.59192,3.14 3.33581,3.2605 3.1853,3.4712 C 2.44726,4.4502 2.34192,5.8358 2.29675,9.0135 C 2.34192,12.1914 2.44726,13.5769 3.1853,14.5558 C 3.33581,14.7817 3.59192,14.8871 3.81787,15.0377 C 4.54077,15.595 8.1853,15.7757 12.2215,15.8058 C 16.2577,15.7757 19.7366,15.595 20.4746,15.0377 C 20.6854,14.8871 20.9415,14.7817 21.077,14.5558 C 21.8299,13.5769 21.9505,12.1914 21.9806,9.0135 z "
       style="fill-rule:evenodd;stroke:none"
       id="path16" />
    <path
       class="icon" 
       d="M 11.6896,8.1906 C 11.4853,5.704 10.1628,4.239 7.79723,4.239 C 5.63596,4.239 3.93706,6.1879 3.93706,9.31964 C 3.93706,12.4648 5.48544,14.4271 8.04452,14.4271 C 10.0875,14.4271 11.5176,12.9218 11.7434,10.4217 L 9.30256,10.4217 C 9.20579,11.3492 8.81871,12.0616 8.00151,12.0616 C 6.71121,12.0616 6.47467,10.7847 6.47467,9.42716 C 6.47467,7.5588 7.0123,6.6046 7.90474,6.6046 C 8.70045,6.6046 9.20579,7.1825 9.28106,8.1906 L 11.6896,8.1906 z "
       style="fill:#000000;fill-rule:evenodd;stroke:none"
       id="path20" />
    <path
      class="icon" 
      d="M 20.1199,8.1906 C 19.9156,5.704 18.5931,4.239 16.2275,4.239 C 14.0662,4.239 12.3674,6.1879 12.3674,9.31964 C 12.3674,12.4648 13.9157,14.4271 16.4748,14.4271 C 18.5178,14.4271 19.9479,12.9218 20.1736,10.4217 L 17.7328,10.4217 C 17.6361,11.3492 17.249,12.0616 16.4318,12.0616 C 15.1415,12.0616 14.9049,10.7847 14.9049,9.42716 C 14.9049,7.5588 15.4426,6.6046 16.335,6.6046 C 17.1307,6.6046 17.6361,7.1825 17.7113,8.1906 L 20.1199,8.1906 z "
      style="fill:#000000;fill-rule:evenodd;stroke:none"
      id="path22" />
    <path class="icon" d="M 2,20 L 22,20" stroke-width="4" stroke="var(--media-icon-color, #eee)" id="path24"/>
  </g>
</svg>
`,Pi=`
<svg
   aria-hidden="true"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   version="1.0"
   viewbox="0 0 153 125.71389"
   width="auto"
   height="24">
  <g
     transform="scale(6.3080558,6.3080558)"
     id="g12">
    <path
       class="icon" 
       d="M 21.9806,9.0135 C 21.9505,5.8358 21.8299,4.4502 21.077,3.4712 C 20.9415,3.2605 20.6854,3.14 20.4746,2.9895 C 19.7366,2.4472 16.2577,2.2515 12.2215,2.2515 C 8.1853,2.2515 4.54077,2.4472 3.81787,2.9895 C 3.59192,3.14 3.33581,3.2605 3.1853,3.4712 C 2.44726,4.4502 2.34192,5.8358 2.29675,9.0135 C 2.34192,12.1914 2.44726,13.5769 3.1853,14.5558 C 3.33581,14.7817 3.59192,14.8871 3.81787,15.0377 C 4.54077,15.595 8.1853,15.7757 12.2215,15.8058 C 16.2577,15.7757 19.7366,15.595 20.4746,15.0377 C 20.6854,14.8871 20.9415,14.7817 21.077,14.5558 C 21.8299,13.5769 21.9505,12.1914 21.9806,9.0135 z "
       style="fill-rule:evenodd;stroke:none"
       id="path16" />
    <path
       class="icon" 
       d="M 11.6896,8.1906 C 11.4853,5.704 10.1628,4.239 7.79723,4.239 C 5.63596,4.239 3.93706,6.1879 3.93706,9.31964 C 3.93706,12.4648 5.48544,14.4271 8.04452,14.4271 C 10.0875,14.4271 11.5176,12.9218 11.7434,10.4217 L 9.30256,10.4217 C 9.20579,11.3492 8.81871,12.0616 8.00151,12.0616 C 6.71121,12.0616 6.47467,10.7847 6.47467,9.42716 C 6.47467,7.5588 7.0123,6.6046 7.90474,6.6046 C 8.70045,6.6046 9.20579,7.1825 9.28106,8.1906 L 11.6896,8.1906 z "
       style="fill:#000000;fill-rule:evenodd;stroke:none"
       id="path20" />
    <path
      class="icon" 
      d="M 20.1199,8.1906 C 19.9156,5.704 18.5931,4.239 16.2275,4.239 C 14.0662,4.239 12.3674,6.1879 12.3674,9.31964 C 12.3674,12.4648 13.9157,14.4271 16.4748,14.4271 C 18.5178,14.4271 19.9479,12.9218 20.1736,10.4217 L 17.7328,10.4217 C 17.6361,11.3492 17.249,12.0616 16.4318,12.0616 C 15.1415,12.0616 14.9049,10.7847 14.9049,9.42716 C 14.9049,7.5588 15.4426,6.6046 16.335,6.6046 C 17.1307,6.6046 17.6361,7.1825 17.7113,8.1906 L 20.1199,8.1906 z "
      style="fill:#000000;fill-rule:evenodd;stroke:none"
      id="path22" />
  </g>
</svg>
`,me=c.createElement("template");me.innerHTML=`
  <style>
  :host([aria-checked="true"]) slot:not([name=on]) > *, 
  :host([aria-checked="true"]) ::slotted(:not([slot=on])) {
    display: none;
  }

  /* Double negative, but safer if display doesn't equal 'block' */
  :host(:not([aria-checked="true"])) slot:not([name=off]) > *, 
  :host(:not([aria-checked="true"])) ::slotted(:not([slot=off])) {
    display: none;
  }
  </style>

  <slot name="on">${xi}</slot>
  <slot name="off">${Pi}</slot>
`;var ue=s=>{s.setAttribute("aria-checked",Ee(s))},Ee=s=>{let t=!!s.getAttribute(a.MEDIA_CAPTIONS_SHOWING),e=!s.hasAttribute("no-subtitles-fallback")&&!!s.getAttribute(a.MEDIA_SUBTITLES_SHOWING);return t||e},bt=class extends b{static get observedAttributes(){return[...super.observedAttributes,"no-subtitles-fallback","default-showing",a.MEDIA_CAPTIONS_LIST,a.MEDIA_CAPTIONS_SHOWING,a.MEDIA_SUBTITLES_LIST,a.MEDIA_SUBTITLES_SHOWING]}constructor(t={}){super({slotTemplate:me,...t});this._captionsReady=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","switch"),this.setAttribute("aria-label",f.CLOSED_CAPTIONS()),ue(this)}attributeChangedCallback(t,e,i){if([a.MEDIA_CAPTIONS_SHOWING,a.MEDIA_SUBTITLES_SHOWING].includes(t)&&ue(this),this.hasAttribute("default-showing")&&this.getAttribute("aria-checked")!=="true"){let n=!this.hasAttribute("no-subtitles-fallback");if((n?[a.MEDIA_CAPTIONS_LIST,a.MEDIA_SUBTITLES_LIST]:[a.MEDIA_CAPTIONS_LIST]).includes(t)){let o=!!this.getAttribute(a.MEDIA_CAPTIONS_LIST)||!!(n&&this.getAttribute(a.MEDIA_SUBTITLES_LIST));this._captionsReady!==o&&(this._captionsReady=o,this._captionsReady&&this.handleClick())}}super.attributeChangedCallback(t,e,i)}handleClick(t){var i,n,r,o;if(Ee(this)){let u=this.getAttribute(a.MEDIA_CAPTIONS_SHOWING);if(u){let h=new d.CustomEvent(m.MEDIA_DISABLE_CAPTIONS_REQUEST,{composed:!0,bubbles:!0,detail:u});this.dispatchEvent(h)}let E=this.getAttribute(a.MEDIA_SUBTITLES_SHOWING);if(E&&!this.hasAttribute("no-subtitles-fallback")){let h=new d.CustomEvent(m.MEDIA_DISABLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0,detail:E});this.dispatchEvent(h)}}else{let[u]=(n=Q((i=this.getAttribute(a.MEDIA_CAPTIONS_LIST))!=null?i:""))!=null?n:[];if(u){let E=new d.CustomEvent(m.MEDIA_SHOW_CAPTIONS_REQUEST,{composed:!0,bubbles:!0,detail:u});this.dispatchEvent(E)}else if(this.hasAttribute("no-subtitles-fallback"))console.error("Attempting to enable closed captions but none are available! Please verify your media content if this is unexpected.");else{let[E]=(o=Q((r=this.getAttribute(a.MEDIA_SUBTITLES_LIST))!=null?r:""))!=null?o:[];if(E){let h=new d.CustomEvent(m.MEDIA_SHOW_SUBTITLES_REQUEST,{composed:!0,bubbles:!0,detail:E});this.dispatchEvent(h)}}}}};l("media-captions-button",bt);var he=bt;var At=30,Oi=`<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="-3 -3 24 24"><defs><style>.text{font-size:8px;font-family:Arial-BoldMT, Arial;font-weight:700;}</style></defs><text class="text value" transform="translate(7.4 17.6)">${At}</text><path d="M8.52,3V0l5.61,4-5.61,4V5A5.54,5.54,0,0,0,6.6,15.48V17.6A7.5,7.5,0,0,1,8.52,3Z"/></svg>`,Ae=c.createElement("template");Ae.innerHTML=`  
  <slot name="forward">${Oi}</slot>
`;var Ni=0,pe=s=>{let t=Math.abs(+s.getAttribute("seek-offset")),e=A.SEEK_FORWARD_N_SECS({seekOffset:t});s.setAttribute("aria-label",e)},be=s=>{let t=F(s,"forward"),e=s.getAttribute("seek-offset");W(t,e)},ft=class extends b{static get observedAttributes(){return[...super.observedAttributes,a.MEDIA_CURRENT_TIME,"seek-offset"]}constructor(t={}){super({slotTemplate:Ae,...t})}connectedCallback(){this.hasAttribute("seek-offset")||this.setAttribute("seek-offset",At),pe(this),be(this),super.connectedCallback()}attributeChangedCallback(t,e,i){t==="seek-offset"&&(i==null&&this.setAttribute("seek-offset",At),be(this),pe(this))}handleClick(){let t=this.getAttribute(a.MEDIA_CURRENT_TIME),e=+this.getAttribute("seek-offset"),n=(t&&!Number.isNaN(+t)?+t:Ni)+e,r=new d.CustomEvent(m.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:n});this.dispatchEvent(r)}};l("media-seek-forward-button",ft);var fe=ft;var Bi=`<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <path d="M0 0h24v24H0z" fill="none"/>
  <path class="icon" d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>
</svg>`,Hi=`<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <path d="M0 0h24v24H0z" fill="none"/>
  <path class="icon" d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"/>
</svg>`,ge=c.createElement("template");ge.innerHTML=`
  <style>
  :host([${a.MEDIA_IS_FULLSCREEN}]) slot:not([name=exit]) > *, 
  :host([${a.MEDIA_IS_FULLSCREEN}]) ::slotted(:not([slot=exit])) {
    display: none;
  }

  /* Double negative, but safer if display doesn't equal 'block' */
  :host(:not([${a.MEDIA_IS_FULLSCREEN}])) slot:not([name=enter]) > *, 
  :host(:not([${a.MEDIA_IS_FULLSCREEN}])) ::slotted(:not([slot=enter])) {
    display: none;
  }
  </style>

  <slot name="enter">${Bi}</slot>
  <slot name="exit">${Hi}</slot>
`;var Ie=s=>{let e=s.getAttribute(a.MEDIA_IS_FULLSCREEN)!=null?A.EXIT_FULLSCREEN():A.ENTER_FULLSCREEN();s.setAttribute("aria-label",e)},It=class extends b{static get observedAttributes(){return[...super.observedAttributes,a.MEDIA_IS_FULLSCREEN]}constructor(t={}){super({slotTemplate:ge,...t})}connectedCallback(){Ie(this),super.connectedCallback()}attributeChangedCallback(t,e,i){t===a.MEDIA_IS_FULLSCREEN&&Ie(this),super.attributeChangedCallback(t,e,i)}handleClick(t){let e=this.getAttribute(a.MEDIA_IS_FULLSCREEN)!=null?m.MEDIA_EXIT_FULLSCREEN_REQUEST:m.MEDIA_ENTER_FULLSCREEN_REQUEST;this.dispatchEvent(new d.CustomEvent(e,{composed:!0,bubbles:!0}))}};l("media-fullscreen-button",It);var _e=It;var Vi='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="icon" d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',Me='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="icon" d="M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',$i='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="icon" d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',Te=c.createElement("template");Te.innerHTML=`
  <style>
  /* Default to High slot/icon. */
  :host(:not([${a.MEDIA_VOLUME_LEVEL}])) slot:not([name=high]) > *, 
  :host(:not([${a.MEDIA_VOLUME_LEVEL}])) ::slotted(:not([slot=high])),
  :host([${a.MEDIA_VOLUME_LEVEL}=high]) slot:not([name=high]) > *, 
  :host([${a.MEDIA_VOLUME_LEVEL}=high]) ::slotted(:not([slot=high])) {
    display: none;
  }

  :host([${a.MEDIA_VOLUME_LEVEL}=off]) slot:not([name=off]) > *, 
  :host([${a.MEDIA_VOLUME_LEVEL}=off]) ::slotted(:not([slot=off])) {
    display: none;
  }

  :host([${a.MEDIA_VOLUME_LEVEL}=low]) slot:not([name=low]) > *, 
  :host([${a.MEDIA_VOLUME_LEVEL}=low]) ::slotted(:not([slot=low])) {
    display: none;
  }

  :host([${a.MEDIA_VOLUME_LEVEL}=medium]) slot:not([name=medium]) > *, 
  :host([${a.MEDIA_VOLUME_LEVEL}=medium]) ::slotted(:not([slot=medium])) {
    display: none;
  }
  </style>

  <slot name="off">${Vi}</slot>
  <slot name="low">${Me}</slot>
  <slot name="medium">${Me}</slot>
  <slot name="high">${$i}</slot>
`;var ve=s=>{let e=s.getAttribute(a.MEDIA_VOLUME_LEVEL)==="off"?A.UNMUTE():A.MUTE();s.setAttribute("aria-label",e)},gt=class extends b{static get observedAttributes(){return[...super.observedAttributes,a.MEDIA_VOLUME_LEVEL]}constructor(t={}){super({slotTemplate:Te,...t})}connectedCallback(){ve(this),super.connectedCallback()}attributeChangedCallback(t,e,i){t===a.MEDIA_VOLUME_LEVEL&&ve(this),super.attributeChangedCallback(t,e,i)}handleClick(t){let e=this.getAttribute(a.MEDIA_VOLUME_LEVEL)==="off"?m.MEDIA_UNMUTE_REQUEST:m.MEDIA_MUTE_REQUEST;this.dispatchEvent(new d.CustomEvent(e,{composed:!0,bubbles:!0}))}};l("media-mute-button",gt);var Se=gt;var De='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="icon" d="M19 7h-8v6h8V7zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98V5c0-1.1-.9-2-2-2zm0 16.01H3V4.98h18v14.03z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',Ce=c.createElement("template");Ce.innerHTML=`
  <style>
  :host([${a.MEDIA_IS_PIP}]) slot:not([name=exit]) > *, 
  :host([${a.MEDIA_IS_PIP}]) ::slotted(:not([slot=exit])) {
    display: none;
  }

  /* Double negative, but safer if display doesn't equal 'block' */
  :host(:not([${a.MEDIA_IS_PIP}])) slot:not([name=enter]) > *, 
  :host(:not([${a.MEDIA_IS_PIP}])) ::slotted(:not([slot=enter])) {
    display: none;
  }
  </style>

  <slot name="enter">${De}</slot>
  <slot name="exit">${De}</slot>
`;var Le=s=>{let e=s.getAttribute(a.MEDIA_IS_PIP)!=null?A.EXIT_PIP():A.ENTER_PIP();s.setAttribute("aria-label",e)},_t=class extends b{static get observedAttributes(){return[...super.observedAttributes,a.MEDIA_IS_PIP,a.MEDIA_PIP_UNAVAILABLE]}constructor(t={}){super({slotTemplate:Ce,...t})}connectedCallback(){Le(this),super.connectedCallback()}attributeChangedCallback(t,e,i){t===a.MEDIA_IS_PIP&&Le(this),super.attributeChangedCallback(t,e,i)}handleClick(t){let e=this.getAttribute(a.MEDIA_IS_PIP)!=null?m.MEDIA_EXIT_PIP_REQUEST:m.MEDIA_ENTER_PIP_REQUEST;this.dispatchEvent(new d.CustomEvent(e,{composed:!0,bubbles:!0}))}};l("media-pip-button",_t);var we=_t;var Wi='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="icon" d="M8 5v14l11-7z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',Fi='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path class="icon" d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',Ue=c.createElement("template");Ue.innerHTML=`
  <style>
  :host([${a.MEDIA_PAUSED}]) slot[name=pause] > *, 
  :host([${a.MEDIA_PAUSED}]) ::slotted([slot=pause]) {
    display: none;
  }

  :host(:not([${a.MEDIA_PAUSED}])) slot[name=play] > *, 
  :host(:not([${a.MEDIA_PAUSED}])) ::slotted([slot=play]) {
    display: none;
  }
  </style>

  <slot name="play">${Wi}</slot>
  <slot name="pause">${Fi}</slot>
`;var Re=s=>{let e=s.getAttribute(a.MEDIA_PAUSED)!=null?A.PLAY():A.PAUSE();s.setAttribute("aria-label",e)},Mt=class extends b{static get observedAttributes(){return[...super.observedAttributes,a.MEDIA_PAUSED]}constructor(t={}){super({slotTemplate:Ue,...t})}connectedCallback(){Re(this),super.connectedCallback()}attributeChangedCallback(t,e,i){t===a.MEDIA_PAUSED&&Re(this),super.attributeChangedCallback(t,e,i)}handleClick(t){let e=this.getAttribute(a.MEDIA_PAUSED)!=null?m.MEDIA_PLAY_REQUEST:m.MEDIA_PAUSE_REQUEST;this.dispatchEvent(new d.CustomEvent(e,{composed:!0,bubbles:!0}))}};l("media-play-button",Mt);var ye=Mt;var ke=[1,1.25,1.5,1.75,2],K=1,xe=c.createElement("template");xe.innerHTML=`
  <style>
  :host {
    font-size: 14px;
    line-height: 24px;
    font-weight: bold;
  }

  #container {
    height: var(--media-text-content-height, 24px);
  }
  </style>

  <span id="container"></span>
`;var vt=class extends b{static get observedAttributes(){return[...super.observedAttributes,a.MEDIA_PLAYBACK_RATE,"rates"]}constructor(t={}){super({slotTemplate:xe,...t});this._rates=ke,this.container=this.shadowRoot.querySelector("#container"),this.container.innerHTML=`${K}x`}attributeChangedCallback(t,e,i){if(t==="rates"){let n=(i!=null?i:"").trim().split(/\s*,?\s+/).map(r=>Number(r)).filter(r=>!Number.isNaN(r)).sort((r,o)=>r-o);this._rates=n.length?n:ke;return}if(t===a.MEDIA_PLAYBACK_RATE){let n=i?+i:Number.NaN,r=Number.isNaN(n)?K:n;this.container.innerHTML=`${r}x`,this.setAttribute("aria-label",f.PLAYBACK_RATE({playbackRate:r}));return}super.attributeChangedCallback(t,e,i)}handleClick(t){var r,o;let e=+this.getAttribute(a.MEDIA_PLAYBACK_RATE)||K,i=(o=(r=this._rates.find(u=>u>e))!=null?r:this._rates[0])!=null?o:K,n=new d.CustomEvent(m.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:i});this.dispatchEvent(n)}};l("media-playback-rate-button",vt);var Pe=vt;var Oe=c.createElement("template");Oe.innerHTML=`
  <style>
    :host {
      pointer-events: none;
      display: inline-block;
      box-sizing: border-box;
  
      width: auto;
      height: auto;
    }
  
    img {
      max-width: 100%;
      max-height: 100%;
      min-width: 100%;
      min-height: 100%;
      background-size: cover;
      background-repeat: no-repeat;
    }
  
    :host([${a.MEDIA_HAS_PLAYED}]) img {
      display: none;
    }
  </style>

  <img aria-hidden="true" id="image"/>
`;var Qi=(s,t)=>{s.style["background-image"]=`url('${t}')`},Tt=class extends d.HTMLElement{static get observedAttributes(){return[a.MEDIA_HAS_PLAYED,"placeholder-src","src"]}constructor(){super();this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(Oe.content.cloneNode(!0)),this.image=this.shadowRoot.querySelector("#image")}attributeChangedCallback(t,e,i){t==="src"&&this.image.setAttribute("src",i),t==="placeholder-src"&&Qi(this.image,i)}};l("media-poster-image",Tt);var Ne=Tt;var zi="video not loaded, unknown time.",Be=s=>{let t=s.range,e=L(+t.value),i=L(+t.max),n=e&&i?`${e} of ${i}`:zi;t.setAttribute("aria-valuetext",n)},He=c.createElement("template");He.innerHTML=`
  <style>
    #thumbnailContainer {
      display: none;
    }

    media-thumbnail-preview {
      /* Scale the thumbnail preview to 50% and reposition appropriately to not take up too much real-estate. */
      transform: scale(0.5) translateY(50%) translateX(-100%);
      position: absolute;
      bottom: calc(100% + 5px);
      border: 2px solid #fff;
      border-radius: 2px;
      background-color: #000;
    }

    /* Can't get this working. Trying a downward triangle. */
    /* media-thumbnail-preview::after {
      content: "";
      display: block;
      width: 300px;
      height: 300px;
      margin: 100px;
      background-color: #ff0;
    } */

    :host([${a.MEDIA_PREVIEW_IMAGE}]:hover) #thumbnailContainer {
      display: block;
      animation: fadeIn ease 0.5s;
    }

    @keyframes fadeIn {
      0% {
        /* transform-origin: bottom center; */
        /* transform: scale(0.7); */
        margin-top: 10px;
        opacity: 0;
      }
      100% {
        /* transform-origin: bottom center; */
        /* transform: scale(1); */
        margin-top: 0;
        opacity: 1;
      }
    }
  </style>
  <div id="thumbnailContainer">
    <media-thumbnail-preview></media-thumbnail-preview>
  </div>
`;var St=class extends U{static get observedAttributes(){return[...super.observedAttributes,"thumbnails",a.MEDIA_DURATION,a.MEDIA_CURRENT_TIME,a.MEDIA_PREVIEW_IMAGE,a.MEDIA_BUFFERED]}constructor(){super();this.shadowRoot.appendChild(He.content.cloneNode(!0)),this.range.addEventListener("input",()=>{let e=this.range.value,i=new d.CustomEvent(m.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(i)}),this.enableThumbnails()}connectedCallback(){this.range.setAttribute("aria-label",f.SEEK()),super.connectedCallback()}attributeChangedCallback(t,e,i){t===a.MEDIA_CURRENT_TIME&&(this.range.value=+i,Be(this),this.updateBar()),t===a.MEDIA_DURATION&&(this.range.max=Math.floor(+i),Be(this),this.updateBar()),t===a.MEDIA_BUFFERED&&this.updateBar(),super.attributeChangedCallback(t,e,i)}get mediaDuration(){return+this.getAttribute(a.MEDIA_DURATION)}get mediaCurrentTime(){return+this.getAttribute(a.MEDIA_CURRENT_TIME)}get mediaBuffered(){let t=this.getAttribute(a.MEDIA_BUFFERED);if(t)return t.split(" ").map(e=>e.split(":"))}getBarColors(){let t=super.getBarColors();if(!this.mediaBuffered||!this.mediaBuffered.length||this.mediaDuration<=0)return t;let e=this.mediaBuffered,i=0;for(let[r,o]of e)if(this.mediaCurrentTime>=r&&this.mediaCurrentTime<=o){i=o;break}let n=i/this.mediaDuration*100;return t.splice(1,0,["var(--media-time-buffered-color, #777)",n]),t}enableThumbnails(){this.thumbnailPreview=this.shadowRoot.querySelector("media-thumbnail-preview"),this.shadowRoot.querySelector("#thumbnailContainer").classList.add("enabled");let e,i=()=>{e=u=>{let E=+this.getAttribute(a.MEDIA_DURATION);if(!E)return;let h=this.range.getBoundingClientRect(),p=(u.clientX-h.left)/h.width;p=Math.max(0,Math.min(1,p));let w=h.left-this.getBoundingClientRect().left+p*h.width;this.thumbnailPreview.style.left=`${w}px`;let N=p*E,k=new d.CustomEvent(m.MEDIA_PREVIEW_REQUEST,{composed:!0,bubbles:!0,detail:N});this.dispatchEvent(k)},d.addEventListener("mousemove",e,!1)},n=()=>{d.removeEventListener("mousemove",e)},r=!1,o=u=>{let E=this.getAttribute(a.MEDIA_DURATION);if(!r&&E){r=!0,i();let h=p=>{p.target!=this&&!this.contains(p.target)&&(d.removeEventListener("mousemove",h),r=!1,n())};d.addEventListener("mousemove",h,!1)}};this.addEventListener("mousemove",o,!1)}};l("media-time-range",St);var j=St;var Dt=class extends j{constructor(){super();console.warn("MediaChrome: <media-progress-range> is deprecated. Use <media-time-range> instead.")}};l("media-progress-range",Dt);var Ve=Dt;var Lt=30,Gi=`<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="-3 -3 24 24"><defs><style>.text{font-size:8px;font-family:Arial-BoldMT, Arial;font-weight:700;}</style></defs><text class="text value" transform="translate(1.68 17.6)">${Lt}</text><path d="M9.48,3V0L3.87,4l5.61,4V5a5.54,5.54,0,0,1,1.92,10.5V17.6A7.5,7.5,0,0,0,9.48,3Z"/></svg>`,Fe=c.createElement("template");Fe.innerHTML=`  
  <slot name="backward">${Gi}</slot>
`;var Yi=0,$e=s=>{let t=Math.abs(+s.getAttribute("seek-offset")),e=A.SEEK_BACK_N_SECS({seekOffset:t});s.setAttribute("aria-label",e)},We=s=>{let t=F(s,"backward"),e=s.getAttribute("seek-offset");W(t,e)},Ct=class extends b{static get observedAttributes(){return[...super.observedAttributes,a.MEDIA_CURRENT_TIME]}constructor(t={}){super({slotTemplate:Fe,...t})}connectedCallback(){this.hasAttribute("seek-offset")||this.setAttribute("seek-offset",Lt),$e(this),We(this),super.connectedCallback()}attributeChangedCallback(t,e,i){t==="seek-offset"&&(i==null&&this.setAttribute("seek-offset",Lt),We(this),$e(this))}handleClick(){let t=this.getAttribute(a.MEDIA_CURRENT_TIME),e=+this.getAttribute("seek-offset"),i=t&&!Number.isNaN(+t)?+t:Yi,n=Math.max(i-e,0),r=new d.CustomEvent(m.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:n});this.dispatchEvent(r)}};l("media-seek-backward-button",Ct);var Qe=Ct;var ze=c.createElement("template");ze.innerHTML=`
  <style>
    :host {
      background-color: #000;
      height: auto;
      width: auto;
    }

    img {
      object-fit: none;
    }
  </style>
  <img crossorigin loading="eager" decoding="async" />
`;var wt=class extends d.HTMLElement{static get observedAttributes(){return[a.MEDIA_CONTROLLER,"time",a.MEDIA_PREVIEW_IMAGE,a.MEDIA_PREVIEW_COORDS]}constructor(){super();this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(ze.content.cloneNode(!0))}connectedCallback(){var e;let t=this.getAttribute(a.MEDIA_CONTROLLER);if(t){let i=c.getElementById(t);(e=i==null?void 0:i.associateElement)==null||e.call(i,this)}}disconnectedCallback(){var e;if(this.getAttribute(a.MEDIA_CONTROLLER)){let i=c.getElementById(mediaControllerId);(e=i==null?void 0:i.unassociateElement)==null||e.call(i,this)}}attributeChangedCallback(t,e,i){var n,r;if(["time",a.MEDIA_PREVIEW_IMAGE,a.MEDIA_PREVIEW_COORDS].includes(t)&&this.update(),t===a.MEDIA_CONTROLLER){if(e){let o=c.getElementById(e);(n=o==null?void 0:o.unassociateElement)==null||n.call(o,this)}if(i){let o=c.getElementById(i);(r=o==null?void 0:o.associateElement)==null||r.call(o,this)}}}update(){let t=this.getAttribute(a.MEDIA_PREVIEW_COORDS),e=this.getAttribute(a.MEDIA_PREVIEW_IMAGE);if(!(t&&e))return;let i=this.shadowRoot.querySelector("img"),[n,r,o,u]=t.split(/\s+/).map(p=>+p),E=e,h=()=>{i.style.height=`${u}px`,i.style["aspect-ratio"]=`${o} / ${u}`};i.src!==E&&(i.onload=h,i.src=E,h()),h(),i.style["object-position"]=`-${n}px -${r}px`}};l("media-thumbnail-preview",wt);var Ge=wt;var Ye=c.createElement("template"),qi=`
<svg aria-hidden="true" viewBox="0 0 100 100">
  <path d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50">
    <animateTransform
       attributeName="transform"
       attributeType="XML"
       type="rotate"
       dur="1s"
       from="0 50 50"
       to="360 50 50"
       repeatCount="indefinite" />
  </path>
</svg>
`;Ye.innerHTML=`
<style>
:host {
  display: inline-block;
  vertical-align: middle;
  box-sizing: border-box;
}

#status {
  color: rgba(0,0,0,0);
  width: 0px;
  height: 0px;
}

:host slot[name=loading] > *,
:host ::slotted([slot=loading]) {
  opacity: 1;
  transition: opacity 0.15s;
}

:host(:not([is-loading])) slot[name=loading] > *, 
:host(:not([is-loading])) ::slotted([slot=loading]) {
  opacity: 0;
}

:host(:not([is-loading])) #status {
  display: none;
}

svg, img, ::slotted(svg), ::slotted(img) {
  width: var(--media-loading-icon-width, 100px);
  height: var(--media-loading-icon-height);
  fill: var(--media-icon-color, #fff);
  vertical-align: middle;
}
</style>

<slot name="loading">${qi}</slot>
<div id="status" role="status" aria-live="polite">${f.MEDIA_LOADING()}</div>
`;var Ki=500,Rt=class extends d.HTMLElement{static get observedAttributes(){return[a.MEDIA_CONTROLLER,a.MEDIA_PAUSED,a.MEDIA_LOADING,"loading-delay"]}constructor(){super();let t=this.attachShadow({mode:"open"}),e=Ye.content.cloneNode(!0);t.appendChild(e)}attributeChangedCallback(t,e,i){var n,r,o;if(t===a.MEDIA_LOADING||t===a.MEDIA_PAUSED){let u=this.getAttribute(a.MEDIA_PAUSED)!=null,E=this.getAttribute(a.MEDIA_LOADING)!=null,h=!u&&E;if(!h)this.loadingDelayHandle&&(clearTimeout(this.loadingDelayHandle),this.loadingDelayHandle=void 0),this.removeAttribute("is-loading");else if(!this.loadingDelayHandle&&h){let p=+((n=this.getAttribute("loading-delay"))!=null?n:Ki);this.loadingDelayHandle=setTimeout(()=>{this.setAttribute("is-loading",""),this.loadingDelayHandle=void 0},p)}}else if(t===a.MEDIA_CONTROLLER){if(e){let u=c.getElementById(e);(r=u==null?void 0:u.unassociateElement)==null||r.call(u,this)}if(i){let u=c.getElementById(i);(o=u==null?void 0:u.associateElement)==null||o.call(u,this)}}}connectedCallback(){var e;let t=this.getAttribute(a.MEDIA_CONTROLLER);if(t){let i=c.getElementById(t);(e=i==null?void 0:i.associateElement)==null||e.call(i,this)}}disconnectedCallback(){var e;if(this.loadingDelayHandle&&(clearTimeout(this.loadingDelayHandle),this.loadingDelayHandle=void 0),this.getAttribute(a.MEDIA_CONTROLLER)){let i=c.getElementById(mediaControllerId);(e=i==null?void 0:i.unassociateElement)==null||e.call(i,this)}}};l("media-loading-indicator",Rt);var qe=Rt;var Ke=c.createElement("template");Ke.innerHTML=`
  <style>
    :host {

    }
  </style>

  <slot></slot>
`;var Ut=class extends d.HTMLElement{constructor(){super();this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(Ke.content.cloneNode(!0))}};l("media-title-bar",Ut);var je=Ut;var ji=100,Xi=s=>{var i;if(s.getAttribute(a.MEDIA_MUTED)!=null)return 0;let e=+((i=s.getAttribute(a.MEDIA_VOLUME))!=null?i:1);return Math.round(e*s.range.max)},Zi=({value:s,max:t})=>`${Math.round(s/t*100)}%`,yt=class extends U{static get observedAttributes(){return[...super.observedAttributes,a.MEDIA_VOLUME,a.MEDIA_MUTED,a.MEDIA_VOLUME_UNAVAILABLE]}constructor(){super();this.range.max=ji,this.range.addEventListener("input",()=>{let e=this.range.value/this.range.max,i=new d.CustomEvent(m.MEDIA_VOLUME_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(i)})}connectedCallback(){this.range.setAttribute("aria-label",f.VOLUME()),super.connectedCallback()}attributeChangedCallback(t,e,i){if(t===a.MEDIA_VOLUME||t===a.MEDIA_MUTED){let n=Xi(this);this.range.value=n,this.range.setAttribute("aria-valuetext",Zi(this.range)),this.updateBar()}super.attributeChangedCallback(t,e,i)}};l("media-volume-range",yt);var Xe=yt;var X=class extends d.HTMLElement{constructor(){super();this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){this.shadowRoot.textContent="";let t=c.createElement("template");t.innerHTML=this.constructor.template,this.shadowRoot.append(t.content.cloneNode(!0))}get mediaController(){return this.shadowRoot.querySelector("media-controller")}};xt(X,"template","");l("media-theme",X);var Ze=X;var Je=class extends q{};d.customElements.get("media-chrome")||d.customElements.define("media-chrome",Je);var kt=class extends q{constructor(){super();console.warn("MediaChrome: <media-container> is deprecated. Use <media-controller>.")}};d.customElements.get("media-container")||d.customElements.define("media-container",kt);return ri(Ji);})();
//# sourceMappingURL=index.js.map
