import b from"./media-chrome-button.js";import{defineCustomElement as u}from"./utils/defineCustomElement.js";import{Window as d,Document as l}from"./utils/server-safe-globals.js";import{MediaUIEvents as p,MediaUIAttributes as a}from"./constants.js";import{nouns as E}from"./labels/labels.js";const c=[1,1.25,1.5,1.75,2],n=1,A=l.createElement("template");A.innerHTML=`
  <style>
  :host {
    font-size: 14px;
    line-height: 24px;
    font-weight: bold;
  }

  #container {
    height: var(--media-text-content-height, 24px);
  }
  </style>

  <span id="container"></span>
`;class h extends b{static get observedAttributes(){return[...super.observedAttributes,a.MEDIA_PLAYBACK_RATE,"rates"]}constructor(r={}){super({slotTemplate:A,...r});this._rates=c,this.container=this.shadowRoot.querySelector("#container"),this.container.innerHTML=`${n}x`}attributeChangedCallback(r,o,e){if(r==="rates"){const s=(e!=null?e:"").trim().split(/\s*,?\s+/).map(t=>Number(t)).filter(t=>!Number.isNaN(t)).sort((t,i)=>t-i);this._rates=s.length?s:c;return}if(r===a.MEDIA_PLAYBACK_RATE){const s=e?+e:Number.NaN,t=Number.isNaN(s)?n:s;this.container.innerHTML=`${t}x`,this.setAttribute("aria-label",E.PLAYBACK_RATE({playbackRate:t}));return}super.attributeChangedCallback(r,o,e)}handleClick(r){var t,i;const o=+this.getAttribute(a.MEDIA_PLAYBACK_RATE)||n,e=(i=(t=this._rates.find(m=>m>o))!=null?t:this._rates[0])!=null?i:n,s=new d.CustomEvent(p.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(s)}}u("media-playback-rate-button",h);var L=h;export{L as default};
//# sourceMappingURL=media-playback-rate-button.js.map
