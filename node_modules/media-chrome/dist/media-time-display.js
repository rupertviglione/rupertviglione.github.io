import c from"./media-text-display.js";import{defineCustomElement as T}from"./utils/defineCustomElement.js";import{formatAsTimePhrase as u,formatTime as A}from"./utils/time.js";import{MediaUIAttributes as e}from"./constants.js";import{nouns as E}from"./labels/labels.js";const d="&nbsp;/&nbsp;",l=(t,{timesSep:r=d}={})=>{const s=t.getAttribute("remaining")!=null,n=t.getAttribute("show-duration")!=null,i=+t.getAttribute(e.MEDIA_CURRENT_TIME),a=+t.getAttribute(e.MEDIA_DURATION),o=s?A(0-(a-i)):A(i);return n?`${o}${r}${A(a)}`:o},I="video not loaded, unknown time.",M=t=>{if(!(t.hasAttribute(e.MEDIA_CURRENT_TIME)&&t.hasAttribute(e.MEDIA_DURATION))){t.setAttribute("aria-valuetext",I);return}const r=t.getAttribute("remaining")!=null,s=t.getAttribute("show-duration")!=null,n=+t.getAttribute(e.MEDIA_CURRENT_TIME),i=+t.getAttribute(e.MEDIA_DURATION),a=r?u(0-(i-n)):u(n);if(!s){t.setAttribute("aria-valuetext",a);return}const o=u(i),m=`${a} of ${o}`;t.setAttribute("aria-valuetext",m)};class b extends c{static get observedAttributes(){return[...super.observedAttributes,e.MEDIA_CURRENT_TIME,e.MEDIA_DURATION,"remaining","show-duration"]}connectedCallback(){this.setAttribute("role","progressbar"),this.setAttribute("aria-label",E.PLAYBACK_TIME()),this.setAttribute("tabindex",0),super.connectedCallback()}attributeChangedCallback(r,s,n){if([e.MEDIA_CURRENT_TIME,e.MEDIA_DURATION,"remaining","show-duration"].includes(r)){const i=l(this);M(this),this.container.innerHTML=i}super.attributeChangedCallback(r,s,n)}}T("media-time-display",b);var f=b;export{f as default};
//# sourceMappingURL=media-time-display.js.map
