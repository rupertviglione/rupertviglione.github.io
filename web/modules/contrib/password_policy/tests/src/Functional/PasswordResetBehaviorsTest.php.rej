***************
*** 4,9 ****
  
  use Drupal\Tests\BrowserTestBase;
  use Drupal\Tests\Traits\Core\CronRunTrait;
  use Drupal\user\Entity\User;
  
  /**
--- 4,10 ----
  
  use Drupal\Tests\BrowserTestBase;
  use Drupal\Tests\Traits\Core\CronRunTrait;
+ use Drupal\datetime\Plugin\Field\FieldType\DateTimeItemInterface;
  use Drupal\user\Entity\User;
  
  /**
***************
*** 15,20 ****
  
    use CronRunTrait;
  
    public static $modules = [
      'system',
      'user',
--- 16,24 ----
  
    use CronRunTrait;
  
+   /**
+    * {@inheritdoc}
+    */
    public static $modules = [
      'system',
      'user',
***************
*** 33,40 ****
      'password_policy',
    ];
  
    protected $profile = 'standard';
  
    /**
     * Test password reset behaviors.
     */
--- 37,65 ----
      'password_policy',
    ];
  
+   /**
+    * {@inheritdoc}
+    */
    protected $profile = 'standard';
  
+   /**
+    * {@inheritdoc}
+    */
+   protected function setUp() {
+     parent::setUp();
+ 
+     // Set module install date far in the past so it does not affect regular
+     // password expiration behaviors tested here.
+     /* @see password_policy_install */
+     $timestamp = \Drupal::service("date.formatter")->format(
+       0,
+       'custom',
+       DateTimeItemInterface::DATETIME_STORAGE_FORMAT,
+       DateTimeItemInterface::STORAGE_TIMEZONE
+     );
+     \Drupal::state()->set('password_policy.install_time', $timestamp);
+   }
+ 
    /**
     * Test password reset behaviors.
     */
